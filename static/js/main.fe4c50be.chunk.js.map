{"version":3,"sources":["components/Breadcrumb/styled.js","components/Breadcrumb/index.js","components/Header/styled.js","components/Header/index.js","styled.js","pages/Dashboard/InputData/optimizers/Optimizer.js","utils/reader.js","utils/excel.js","utils/format.js","pages/Dashboard/InputData/readers/ProjectReader.js","pages/Dashboard/InputData/readers/MspReader.js","pages/Dashboard/InputData/readers/XerReader.js","pages/Dashboard/InputData/styled.js","pages/Dashboard/InputData/index.js","utils/plot.js","utils/color.js","mods/a_utils.js","pages/Dashboard/OptimizedSummary/components/TaskPlot.js","pages/Dashboard/BaselineSummary/components/DistributionPlot.js","pages/Dashboard/BaselineSummary/styled.js","pages/Dashboard/BaselineSummary/index.js","pages/Dashboard/OptimizedSummary/styled.js","pages/Dashboard/OptimizedSummary/components/CombinedResourcePlot.js","pages/Dashboard/OptimizedSummary/index.js","pages/Dashboard/DetailedReport/styled.js","pages/Dashboard/OptimizedSummary/components/ResourcePlot.js","pages/Dashboard/DetailedReport/components/LossPlot.js","pages/Dashboard/DetailedReport/components/StepsPlot.js","pages/Dashboard/DetailedReport/RawData/index.js","pages/Dashboard/DetailedReport/components/ChangedTasksTable.js","pages/Dashboard/DetailedReport/components/ChangedResourcesTable.js","pages/Dashboard/DetailedReport/components/ChangedResourcesTaskTable .js","pages/Dashboard/DetailedReport/index.js","pages/Dashboard/styled.js","pages/Dashboard/index.js","lib/fetch.js","utils/validator.js","pages/Login/styled.js","pages/Login/index.js","pages/ResetPassword/styled.js","pages/ResetPassword/index.js","App.js","index.js","assets/images/logo.png"],"names":["BreadcrumbContainer","styled","Stepper","Breadcrumb","steps","navAt","navigate","disabled","activeStep","alternativeLabel","map","label","i","Step","key","onClick","StepLabel","HeaderContainer","div","Header","signOut","useSignOut","useNavigate","React","useState","anchorEl","setAnchorEl","open","Boolean","className","href","src","FLlogo","alt","id","aria-controls","undefined","aria-haspopup","aria-expanded","event","currentTarget","fontSize","Menu","onClose","anchorOrigin","vertical","horizontal","transformOrigin","MenuListProps","MenuList","MenuItem","window","ListItemIcon","ListItemText","Divider","AppContainer","PrimaryButton","Button","SecondaryButton","Optimizer","reader","this","sim_in","default_start","min_ratio","max_ratio","lr","loss_weights","drtn_day","rsrc_max","rsrc_std","loss_task","loss_rsrc","loss_task_rsrc","results","Promise","res","ws","WebSocket","onopen","e","console","log","toast","success","onclose","error","finishedCallback","onmessage","out","JSON","parse","data","replace","modify_output","push","slice","sort","a","b","loss_sum","resultCallback","onerror","num_changed","task_rsrcs","task_preds","Object","values","inp","tasks","forEach","t","drtn_hr_2","Math","round","changed","drtn_hr","drtn_ratio","rsrcs","x","preds","assign","num_crt","crt_path","length","r","show_in_plot","clndrs","g","obj","send","stringify","close","init","readyState","OPEN","cons_data","tasks_cons","rsrcs_cons","task_rsrc_cons","c","drtn_hr_rng","min_drtn_hr","max_drtn_hr","rng","max_units_per_day","t_id","r_id","units_rng","min_units","max_units","act_start","act_finish","proj_start","func","drtn_ratios","parseInt","ratio_rng","parseFloat","copy","format_date","date","Date","toISOString","parse_drtn_hr","split","parse_time","to_iso","timestamp","encode_id","write_file","filename","text","elm","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","as_array","Array","isArray","to_dict","keys","dic","k","Counter","len","entries","value","cnt","read_excel","file","FileReader","onload","book","xlsx","target","result","type","my_book","SheetNames","name","sheet_to_json","Sheets","readAsBinaryString","write_excel","wb","book_new","json_to_sheet","book_append_sheet","format_fields","v","includes","toFixed","ProjectReader","errors","File","trim","parse_text","extract_data","make_constraints","readAsText","copy_tasks","finish","now","start","start_2","finish_2","task_code","p_id","t_code","clndr_id","week_hr_cnt","units","t_name","r_name","baseline_resource","cost_per_unit_hr","cons_filename","MspReader","parser","XMLParser","ignoreAttributes","raw_data","prj","Project","all_tasks","Tasks","Task","UID","is_summary","Summary","Name","Start","Finish","Duration","ActualStart","ActualFinish","CalendarUID","PredecessorLink","PredecessorUID","0","1","2","3","Type","lag_hr","LinkLag","p","msg","add","Resources","Resource","Work","Material","Cost","dist","Calendars","Calendar","WeekDays","WeekDay","d","DayType","WorkingTimes","WorkingTime","hr","ToTime","FromTime","Assignments","Assignment","TaskUID","ResourceUID","work_hr","t2","EarlyStart","LateStart","EarlyFinish","LateFinish","recover_drtn","ActualDuration","x2","PeekUnits","units_2","XMLBuilder","build","XerReader","tables","table","line","cols","items","header","task_id_code_map","TASK","task_id","task_name","target_start_date","target_end_date","target_drtn_hr_cnt","act_start_date","act_end_date","RSRC","rsrc_id","rsrc_name","rsrc_type","Labor","Equip","Mat","CALENDAR","clndr_name","TASKPRED","task_pred_id","pred_task_id","pred_type","lag_hr_cnt","TASKRSRC","taskrsrc_id","target_qty","DELETE","filter","early_start_date","late_start_date","early_end_date","late_end_date","target_qty_per_hr","lines","join","row","Content","OptimizationContainer","LoadingModal","Modal","InputField","Input","position","top","left","transform","width","ratioMarks","stepMarks","InputData","fileName","setFileName","constraintsFileName","setConstraintsFileName","project","updateProject","goNext","isLoading","setIsLoading","fileReader","isFileUploaded","setIsFileUploaded","optimizer","ceil","ratio","setRatio","setSteps","todaysDate","minStartDate","setMinStartDate","setDate","readProject","isDemo","endsWith","read_from_file","then","min_start","opt","optimize","opt_res","baseline_result","max","useEffect","alignItems","hidden","onChange","files","accept","htmlFor","textDecoration","cursor","fetch","blob","export_constraints","read_constraints","FormControl","inputProps","min","defaultValue","placeholder","variant","Tooltip","title","fontFamily","toString","Slider","step","valueLabelDisplay","getAriaLabel","marks","aria-label","aria-labelledby","aria-describedby","Box","sx","init_d3","margin","x_domain","y_domain","height","ref","x_label","y_label","x_type","d3","y_type","x1","y2","y1","x_scale","y_scale","svg","current","attr","selectChildren","remove","append","call","tickValues","xGrid","scale","tickFormat","tickSizeInner","yGrid","domains_with_margin","x_amount","y_amount","x_margin","y_margin","plot_color_palette","TaskPlot","optimizedTask","optimizedCriticalTask","baselineTask","baselineCriticalTask","ResourcePlot","allResources","down_sample","data_","keep","skip","floor","baselineTasks","color","useRef","baselineData","critical","bd","x_optimized_domain","x_baseline_domain","y_optimized_domain","y_baseline_domain","selectAll","DistibutionPlot","optimizationPresets","selectedPreset","selectedResultIndex","concat","domains","preset","o","circle","index","on","OptimizationCharts","BaselineSummary","handleSelectPreset","handleSelectResultIndex","loadingPreset","optimizing","background","marginRight","borderRadius","at","option","component","RadioGroup","FormControlLabel","control","Radio","description","ToggleGroup","ToggleButtonGroup","CombinedResourcePlot","optimized_result","combined_dist","rsrc_dist","resources","showResourcePlot","setShowResourcePlot","useReducer","_","forceUpdate","y_optimized_values","flat","y_baseline_values","exclusive","ToggleButton","str","limit","opacity","toggleSelectResource","substring","calculatePercentage","optimized","baseline","percentage","checkPositive","sign","abs","OptimizedSummary","goPrev","textTransform","TableContent","ReportTable","Table","TableHead","LossPlot","idx","StepsPlot","x_axis","RawData","loss","handleChooseResult","headCells","numeric","disablePadding","descendingComparator","orderBy","EnhancedTableHead","props","order","onRequestSort","TableRow","headCell","TableCell","align","padding","sortDirection","TableSortLabel","active","direction","property","visuallyHidden","ChangedTaskstable","ariaLabel","setOrder","setOrderBy","selected","setSelected","page","setPage","rowsPerPage","setRowsPerPage","rows","task","old_duration","new_duration","createData","emptyRows","TableContainer","minWidth","size","numSelected","onSelectAllClick","checked","newSelected","n","rowCount","TableBody","array","comparator","stabilizedThis","el","stableSort","getComparator","isItemSelected","indexOf","labelId","hover","selectedIndex","handleClick","role","aria-checked","tabIndex","scope","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","ChangedResourcesTable","std","reduce","total","ChangedResourcesTasksTable","changed_tasks","changed_resources","filteredResults","rsrc","arrayResources","mapTask","item","DetailedReport","openModal","setOpenModal","justifyContent","marginBottom","merge_data","export","export_excel","DashboardContainer","Dashboard","setNavAt","setProject","balanced","shortest_duration","least_max_resources","least_std_resources","setSelectedPreset","setSelectedResultIndex","componentToRender","op","stop","weight","opt_res1","opt_res2","opt_res3","opt_res4","optimizePresets","login","callback","errorCallback","process","method","headers","requestResetPassword","resetPassword","validateEmail","email","test","String","toLowerCase","message","require","config","LoginContainer","Login","emailRef","emailErrorMessage","setEmailErrorMessage","errorMessage","setErrorMessage","passwordRef","passwordErrorMessage","signIn","useSignIn","validEmail","password","response","json","resetPasswordRequired","accessToken","token","expiresIn","tokenType","authState","catch","flexDirection","noValidate","autoComplete","TextField","inputRef","helperText","rel","ResetContainer","ResetPassword","useSearchParams","searchParams","get","setEmail","setPassword","resetToken","App","authType","authName","cookieDomain","location","hostname","cookieSecure","path","element","loginPath","AppRegistry","registerComponent","runApplication","rootTag","getElementById","module","exports"],"mappings":"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","file":"static/js/main.fe4c50be.chunk.js","sourcesContent":["import styled from 'styled-components'\r\nimport { Stepper } from '@mui/material'\r\n\r\nexport const BreadcrumbContainer = styled(Stepper)`\r\n  margin: 30px auto;\r\n  width: 1200px;\r\n  .Mui-active circle {\r\n    color: #00beae;\r\n  }\r\n  .Mui-completed circle,.Mui-completed {\r\n    color: #002F2B !important;\r\n  }\r\n`","import React from 'react'\r\n\r\nimport { Step, StepLabel } from '@mui/material'\r\n\r\nimport { BreadcrumbContainer } from './styled'\r\n\r\nexport default function Breadcrumb({ steps, navAt, navigate, disabled }) {\r\n  return <BreadcrumbContainer activeStep={navAt} alternativeLabel>\r\n    {steps.map((label, i) => (\r\n      <Step key={label} onClick={() => {\r\n        if (!disabled)\r\n          navigate(i)\r\n      }}>\r\n        <StepLabel>{label}</StepLabel>\r\n      </Step>\r\n    ))}\r\n  </BreadcrumbContainer>\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const HeaderContainer = styled.div`\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  min-height: 55px;\r\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\r\n  .header { \r\n    margin: 0 auto 20px;\r\n    padding: 20px 0;\r\n    max-width: 1200px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .logo {\r\n      display: flex;\r\n      align-items: center;\r\n      img {\r\n        max-width: 200px;\r\n        margin-right: 20px;\r\n      }\r\n    }\r\n    .menu {\r\n      &:focus {\r\n         outline: none !important;\r\n      }\r\n    }\r\n  }\r\n`","import React from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useSignOut } from 'react-auth-kit'\r\n\r\nimport Menu from '@mui/material/Menu'\r\nimport MenuList from '@mui/material/MenuList'\r\nimport MenuItem from '@mui/material/MenuItem'\r\nimport ListItemText from '@mui/material/ListItemText'\r\nimport ListItemIcon from '@mui/material/ListItemIcon'\r\nimport Divider from '@mui/material/Divider'\r\n\r\nimport { HeaderContainer } from './styled'\r\n\r\nimport FLlogo from '../../assets/images/logo.png'\r\n\r\nimport MenuIcon from '@mui/icons-material/Menu'\r\nimport LaptopMacIcon from '@mui/icons-material/LaptopMac'\r\nimport LogoutIcon from '@mui/icons-material/Logout'\r\n\r\nexport default function Header() {\r\n  const signOut = useSignOut()\r\n  const navigate = useNavigate()\r\n\r\n  function handleLogout() {\r\n    signOut()\r\n    // Might put some delay here (3 secs?)\r\n    // alert('You have been logged out. You will be redirected to the login page.')\r\n    navigate('/login')\r\n  }\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null)\r\n  const open = Boolean(anchorEl)\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget)\r\n  }\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null)\r\n  }\r\n\r\n  return <HeaderContainer>\r\n    <div className='header'>\r\n      <div className='logo'>\r\n        <a href='/'><img src={FLlogo} alt='Frontline Logo' /></a>\r\n        <span>v2.0.0</span>\r\n      </div>\r\n      <div className='account'>\r\n        <MenuIcon\r\n          id='basic-button'\r\n          aria-controls={open ? 'basic-menu' : undefined}\r\n          aria-haspopup='true'\r\n          aria-expanded={open ? 'true' : undefined}\r\n          onClick={handleClick} fontSize='medium' />\r\n        <Menu\r\n          id='basic-menu'\r\n          anchorEl={anchorEl}\r\n          open={open}\r\n          onClose={handleClose}\r\n          anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n          }}\r\n          transformOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right',\r\n          }}\r\n          MenuListProps={{\r\n            'aria-labelledby': 'basic-button',\r\n          }}>\r\n          <MenuList className='menu'>\r\n            <MenuItem\r\n              onClick={() => {\r\n                window.open('https://app.frontline-optimizer.com/v1.0.0/', '_blank', 'noopener,noreferrer')\r\n              }} >\r\n              <ListItemIcon>\r\n                <LaptopMacIcon fontSize='small' />\r\n              </ListItemIcon>\r\n              <ListItemText>Back to v1.0.0</ListItemText>\r\n            </MenuItem>\r\n            <Divider />\r\n            <MenuItem onClick={handleLogout} >\r\n              <ListItemIcon>\r\n                <LogoutIcon />\r\n              </ListItemIcon>\r\n              <ListItemText>Log Out</ListItemText>\r\n            </MenuItem>\r\n          </MenuList>\r\n        </Menu>\r\n      </div>\r\n    </div>\r\n  </HeaderContainer>\r\n}\r\n","import styled from 'styled-components'\r\nimport Button from '@mui/material/Button'\r\n\r\nexport const AppContainer = styled.div`\r\n  background: #F0F1F3;\r\n  margin: 0;\r\n  /* padding: 0 0 50px; */\r\n  min-height: 100vh;\r\n  min-width: 1200px;\r\n  .row {\r\n    display: flex;\r\n    width: 100%;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    box-sizing: border-box;\r\n    /* margin-top: 10px; */\r\n  }\r\n  .MuiTableCell-body, .MuiTableCell-head {\r\n    font-family: \"Inter\", Arial, Helvetica, sans-serif;\r\n  }\r\n`\r\n\r\nexport const PrimaryButton = styled(Button)`\r\n  padding: 10px 20px !important;\r\n  box-shadow: none !important;\r\n  background: #008277 !important;\r\n  width: auto !important;   \r\n  font-weight: bold !important;\r\n  text-transform: capitalize !important;\r\n  font-size: 1rem !important;\r\n  font-family: \"Inter\", sans-serif !important;\r\n  &:hover {\r\n      background: #0b534d !important;\r\n    }\r\n  &.Mui-disabled {\r\n    color: #dbdbdb;    \r\n    background: #f0f0f0 !important;\r\n  }\r\n`\r\n\r\nexport const SecondaryButton = styled(PrimaryButton)`\r\n  padding: 10px 20px !important;\r\n  box-shadow: none !important;\r\n  color: #008277 !important;\r\n  border: 1px solid #008277 !important;\r\n  background: white !important;\r\n  width: auto !important;\r\n  text-transform: capitalize !important;\r\n  font-weight: bold !important;\r\n  &:hover {\r\n  background: white !important;\r\n      color: #0b534d !important;\r\n    }\r\n  &.Mui-disabled {\r\n    color: #dbdbdb;    \r\n    border: 1px solid #f0f0f0 !important;\r\n  }\r\n`","import { toast } from 'react-toastify'\r\n\r\nexport class Optimizer {\r\n    constructor(reader) {\r\n      this.reader = reader\r\n      this.sim_in = {\r\n        steps: '20',\r\n        default_start: '2023-03-01',\r\n        min_ratio: '0.5',\r\n        max_ratio: '1.5',\r\n        lr: '0.1',\r\n      }\r\n      this.loss_weights = {\r\n        drtn_day: 100,\r\n        rsrc_max: 0,\r\n        rsrc_std: 0,\r\n        loss_task: 0,\r\n        loss_rsrc: 0,\r\n        loss_task_rsrc: 0,\r\n      }\r\n      this.results = []\r\n    }\r\n  \r\n    init() {\r\n      return new Promise((res) => {\r\n        let url = 'wss://engine.frontline-optimizer.com'\r\n        //let url = 'ws://127.0.0.1:8000'\r\n        // console.log(url)\r\n        this.ws = new WebSocket(url)\r\n        this.ws.onopen = (e) => {\r\n          console.log('Optimization Engine connected!')\r\n          toast.success('Optimization Engine connected!')\r\n          res()\r\n        }\r\n        this.ws.onclose = (e) => {\r\n          console.log('Optimization Engine disconnected!')\r\n          toast.error('Optimization Engine disconnected!')\r\n          this.finishedCallback(this.results)\r\n        }\r\n  \r\n        this.ws.onmessage = (e) => {\r\n          let out = JSON.parse(e.data.replace(/\\bNaN\\b/g, 'null'))\r\n          if (out.success) toast.success('Engine: ' + out.success)\r\n          if (out.error) toast.error('Engine: ' + out.error)\r\n          if (out.drtn_day) {\r\n            this.modify_output(out)\r\n            this.results.push(out)\r\n            this.results = [\r\n              this.results[0],\r\n              ...this.results.slice(1).sort((a, b) => b.loss_sum - a.loss_sum),\r\n            ]\r\n          }\r\n          this.resultCallback(this.results)\r\n        }\r\n        this.ws.onerror = (e) => {\r\n          toast.error('Optimization Engine connection error!')\r\n        }\r\n      })\r\n    }\r\n  \r\n    modify_output(out) {\r\n      let num_changed = 0\r\n      let task_rsrcs = {},\r\n        task_preds = {}\r\n      Object.values(out.inp.tasks).forEach((t) => {\r\n        t.drtn_hr_2 = Math.round(t.drtn_hr_2)\r\n        t.changed = t.drtn_hr !== t.drtn_hr_2\r\n        t.drtn_ratio = t.drtn_hr_2 / t.drtn_hr\r\n        if (t.changed) num_changed += 1\r\n        Object.values(t.rsrcs).forEach((x) => {\r\n          task_rsrcs[x.id] = x\r\n        })\r\n        Object.values(t.preds).forEach((x) => {\r\n          task_preds[x.id] = x\r\n        })\r\n      })\r\n      //console.log(task_rsrc, task_pred)\r\n      Object.assign(out.inp, { task_preds, task_rsrcs })\r\n      out.num_changed = num_changed\r\n      out.num_crt = out.crt_path.length\r\n      //this.debug_output(out)\r\n      Object.values(out.inp.rsrcs).forEach((r) => {\r\n        r.show_in_plot = true\r\n      })\r\n    }\r\n  \r\n    debug_output(out) {\r\n      let { tasks, rsrcs, clndrs, task_preds, task_rsrcs } = out.inp\r\n      if (this.results.length === 1) {\r\n        console.log(out)\r\n        for (let g of [tasks, rsrcs, clndrs, task_preds, task_rsrcs]) {\r\n          console.log(Object.values(g)[0])\r\n        }\r\n      }\r\n    }\r\n  \r\n    send(obj) {\r\n      this.ws.send(JSON.stringify(obj))\r\n    }\r\n  \r\n    async stop() {\r\n      if(this.ws)\r\n        this.ws.close()\r\n    }\r\n  \r\n    async optimize(resultCallback, finishedCallback) {\r\n      this.resultCallback = resultCallback\r\n      this.finishedCallback = finishedCallback\r\n      if (!this.ws)\r\n        await this.init()\r\n      else if (this.ws.readyState !== this.ws.OPEN) \r\n        await this.init()\r\n      this.results = []\r\n      let { tasks, rsrcs, clndrs } = this.reader.data\r\n      if (this.reader?.cons_data) {\r\n        let { tasks_cons, rsrcs_cons, task_rsrc_cons } = this.reader.cons_data\r\n        tasks_cons.forEach((c) => {\r\n            let t = tasks[c.id]\r\n            t.drtn_hr_rng = [c.min_drtn_hr, c.max_drtn_hr]\r\n        })\r\n        rsrcs_cons.forEach((c) => {\r\n            let r = rsrcs[c.id]\r\n            r.rng = [0, c.max_units_per_day]\r\n        })\r\n        task_rsrc_cons.forEach((c) => {\r\n            let x = tasks[c.t_id].rsrcs[c.r_id]\r\n            x.units_rng = [c.min_units, c.max_units]\r\n        })\r\n      }\r\n\r\n      Object.values(tasks).forEach((t) => {\r\n        t.act_start = null\r\n        t.act_finish = null\r\n      })\r\n\r\n      // console.log(reader)\r\n\r\n      // const def_start = Date.parse(this.sim_in.default_start + 'Z')\r\n      const proj_start = this.sim_in.default_start\r\n\r\n      // console.log(proj_start)\r\n\r\n      this.send({\r\n        func: 'optimize',\r\n        tasks,\r\n        rsrcs,\r\n        clndrs,\r\n        drtn_ratios: {},\r\n        default_start: proj_start,\r\n        steps: parseInt(this.sim_in.steps),\r\n        ratio_rng: [\r\n          parseFloat(this.sim_in.min_ratio),\r\n          parseFloat(this.sim_in.max_ratio),\r\n        ],\r\n        lr: parseFloat(this.sim_in.lr),\r\n        loss_weights: this.loss_weights\r\n      })\r\n    }\r\n  }","export function copy(x) {\r\n    return JSON.parse(JSON.stringify(x))\r\n}\r\n\r\nexport function format_date(date) {\r\n    if (!date) return ''\r\n    return new Date(date).toISOString().replace('T', ' ').slice(0, 16)\r\n}\r\n\r\n// used by MspReader.js\r\n\r\nexport function parse_drtn_hr(x = 'PT200H0M0S') {\r\n    return parseFloat(x.split('PT')[1].split('H')[0])\r\n}\r\n\r\nexport function recover_drtn(drtn_hr = 1) {\r\n    return 'PT' + drtn_hr + 'H0M0S'\r\n}\r\n\r\nexport function parse_time(x = '07:00:00') {\r\nreturn Date.parse('1971-06-28T' + x) - Date.parse('1971-06-28T00:00:00')\r\n}\r\n\r\nexport function to_iso(timestamp) {\r\n    return new Date(timestamp).toISOString().split('.')[0]\r\n}\r\n\r\nexport const ms_per_hr = 60 * 60 * 1000\r\nexport const ms_per_day = 24 * ms_per_hr\r\nexport const ms_per_week = 7 * ms_per_day\r\n\r\nexport function encode_id(id) {\r\nreturn 'id_' + id\r\n}\r\n\r\nexport function write_file(filename, text) {\r\n    let elm = document.createElement('a')\r\n    let prefix = 'data:text/plaincharset=utf-8,'\r\n    elm.setAttribute('href', prefix + encodeURIComponent(text))\r\n    elm.setAttribute('download', filename)\r\n    elm.style.display = 'none'\r\n    document.body.appendChild(elm)\r\n    elm.click()\r\n    document.body.removeChild(elm)\r\n}\r\n\r\nexport function as_array(x) {\r\n    if (!x) return []\r\n    if (!Array.isArray(x)) return [x]\r\n    return x\r\n}\r\n\r\n// used by XerReader.js\r\n\r\nexport function to_dict(keys = [], values = []) {\r\n    let dic = {}\r\n    keys.forEach((k, i) => (dic[k] = values[i]))\r\n    return dic\r\n}\r\n\r\n// used by ProjectReader.js\r\n\r\nexport class Counter {\r\n    constructor() {\r\n    this.dic = {}\r\n}\r\n\r\nget size() {\r\n    return len(this.dic)\r\n}\r\n\r\nget list() {\r\n    return Object.entries(this.dic).map(\r\n     ([value, cnt]) => `${value} (count: ${cnt})`\r\n    )\r\n}\r\n\r\nadd(value) {\r\n    if (!(value in this.dic)) {\r\n        this.dic[value] = 0\r\n    }\r\n    this.dic[value] += 1\r\n}\r\n}\r\n\r\nexport function len(x) {\r\n    return Object.keys(x).length;\r\n}","import * as xlsx from 'xlsx'\r\n\r\nexport function read_excel(file) {\r\n  return new Promise((res) => {\r\n    let reader = new FileReader()\r\n    reader.onload = (e) => {\r\n      let book = xlsx.read(e.target.result, { type: 'binary' })\r\n      let my_book = {}\r\n      book.SheetNames.forEach((name) => {\r\n        my_book[name] = xlsx.utils.sheet_to_json(book.Sheets[name], {\r\n          //raw: true,\r\n        })\r\n      })\r\n      res(my_book)\r\n    }\r\n    reader.readAsBinaryString(file)\r\n  })\r\n}\r\n\r\nexport function write_excel({ book, filename }) {\r\n  let wb = xlsx.utils.book_new()\r\n  Object.entries(book).forEach(([name, data]) => {\r\n    let ws = xlsx.utils.json_to_sheet(Object.values(data))\r\n    xlsx.utils.book_append_sheet(wb, ws, name)\r\n  })\r\n  xlsx.writeFile(wb, filename)\r\n}\r\n","import { format_date, len } from './reader'\r\n\r\nexport function format_fields(k = '', v) {\r\n  if (typeof v === 'string') return v\r\n\r\n  if (k.includes('start') || k.includes('finish')) return format_date(v)\r\n\r\n  if (typeof v === 'number') {\r\n    if (k.includes('ratio')) return v.toFixed(2)\r\n    return v.toFixed(0)\r\n  }\r\n\r\n  if (v === null || v === false) return ''\r\n  if (Array.isArray(v) && v.length < 3) return JSON.stringify(v)\r\n  if (typeof v === 'object') return len(v)\r\n\r\n  return JSON.stringify(v)\r\n}\r\n\r\nexport function limitString(str, limit) {\r\n  if (!str) return ''\r\n  if (str.length <= limit) return str\r\n  \r\n  return str.substring(0,limit) + '...'\r\n}","import { copy, Counter } from '../../../../utils/reader'\r\nimport { read_excel, write_excel } from '../../../../utils/excel'\r\nimport { format_fields } from '../../../../utils/format'\r\n\r\nexport class ProjectReader {\r\n  errors = new Counter()\r\n\r\n  async read_from_file(file = new File()) {\r\n    this.filename = file.name\r\n    let reader = new FileReader()\r\n    return new Promise((res) => {\r\n      reader.onload = (e) => {\r\n        let text = e.target.result.trim()\r\n        this.parse_text(text)\r\n        this.extract_data()\r\n        this.cons_data = this.make_constraints()\r\n        \r\n        res(true)\r\n      }\r\n      reader.readAsText(file)\r\n    })\r\n  }\r\n\r\n  parse_text() {}\r\n  extract_data() {}\r\n\r\n  merge_data() {}\r\n  export() {}\r\n\r\n  export_excel(inp) {\r\n    let { tasks, rsrcs, clndrs, task_preds, task_rsrcs } = copy(inp)\r\n\r\n    const copy_tasks = copy(tasks)\r\n\r\n    for (let g of [tasks, rsrcs, clndrs, task_preds, task_rsrcs]) {\r\n      Object.values(g).forEach((x) => {\r\n        Object.keys(x).forEach((k) => {\r\n          x[k] = format_fields(k, x[k])\r\n        })\r\n      })\r\n    }\r\n\r\n    Object.keys(tasks).forEach((t) => {\r\n      if (copy_tasks[t].finish < Date.now()) {\r\n        tasks[t].act_start = tasks[t].start\r\n        tasks[t].start_2 = tasks[t].start\r\n        tasks[t].act_finish = tasks[t].finish\r\n        tasks[t].finish_2 = tasks[t].finish\r\n      }\r\n    })\r\n\r\n    Object.values(tasks).forEach((t) => {\r\n      if (t.task_code) {\r\n        t.id = t.task_code\r\n        delete t.task_code\r\n      }\r\n    })\r\n\r\n    Object.values(task_preds).forEach((t) => {\r\n      if (inp.tasks[t.t_id].task_code)\r\n        t.t_id = inp.tasks[t.t_id].task_code\r\n      if (inp.tasks[t.p_id].task_code)\r\n        t.p_id = inp.tasks[t.p_id].task_code\r\n    })\r\n\r\n    Object.values(task_rsrcs).forEach((t) => {\r\n      if (t.t_code) {\r\n        t.t_id = t.t_code\r\n        delete t.t_code\r\n      }\r\n    })\r\n\r\n    let name = this.filename\r\n      .replace('.xml', '_Frontline.xlsx')\r\n      .replace('.xer', '_Frontline.xlsx')\r\n    write_excel({\r\n      book: { tasks, rsrcs, clndrs, task_preds, task_rsrcs },\r\n      filename: name,\r\n    })\r\n  }\r\n\r\n  make_constraints() {\r\n    let tasks_cons = [],\r\n      rsrcs_cons = [],\r\n      task_rsrc_cons = []\r\n\r\n    Object.values(this.data.tasks).forEach((t) => {\r\n      let { id, name, drtn_hr, clndr_id } = t\r\n      tasks_cons.push({\r\n        id,\r\n        name,\r\n        drtn_hr,\r\n        min_drtn_hr: null,\r\n        max_drtn_hr: null,\r\n        week_hr_cnt: this.data.clndrs[clndr_id].week_hr_cnt\r\n      })\r\n\r\n      Object.values(t.rsrcs).forEach((x) => {\r\n        let { id, t_id, r_id, units } = x\r\n        task_rsrc_cons.push({\r\n          id,\r\n          t_id,\r\n          r_id,\r\n          t_name: name,\r\n          r_name: this.data.rsrcs[r_id].name,\r\n          units,\r\n          min_units: null,\r\n          max_units: null,\r\n        })\r\n      })\r\n    })\r\n\r\n    Object.values(this.data.rsrcs).forEach((r) => {\r\n      let { id, name, baseline_resource } = r\r\n      rsrcs_cons.push({\r\n        id,\r\n        name,\r\n        max_units_per_day: null,\r\n        cost_per_unit_hr: null,\r\n        baseline_resource: baseline_resource ? baseline_resource : null,\r\n      })\r\n    })\r\n\r\n    return { tasks_cons, rsrcs_cons, task_rsrc_cons }\r\n  }\r\n\r\n  export_constraints() {\r\n    let name = this.filename\r\n      .replace('.xml', '_Frontline_Cons.xlsx')\r\n      .replace('.xer', '_Frontline_Cons.xlsx')\r\n\r\n    const book = this.make_constraints()\r\n\r\n    Object.values(book.tasks_cons).forEach((t) => {\r\n      if (this.data.tasks[t.id].task_code)\r\n        t.id = this.data.tasks[t.id].task_code\r\n    })\r\n\r\n    Object.values(book.task_rsrc_cons).forEach((t) => {\r\n      if (this.data.tasks[t.t_id].task_code)\r\n        t.t_id = this.data.tasks[t.t_id].task_code\r\n    })\r\n    write_excel({ book: book, filename: name })\r\n  }\r\n\r\n  async read_constraints(file) {\r\n    this.cons_filename = file.name\r\n    this.cons_data = await read_excel(file)\r\n\r\n    const book = this.make_constraints()\r\n    \r\n    for (let i = 0; i < this.cons_data.tasks_cons.length; i++)\r\n      this.cons_data.tasks_cons[i].id = book.tasks_cons[i].id\r\n\r\n    for (let i = 0; i < this.cons_data.task_rsrc_cons.length; i++)\r\n      this.cons_data.task_rsrc_cons[i].t_id = book.task_rsrc_cons[i].t_id\r\n  }\r\n}\r\n","import { XMLBuilder, XMLParser } from 'fast-xml-parser'\r\nimport {\r\n  parse_drtn_hr,\r\n  recover_drtn,\r\n  parse_time,\r\n  to_iso,\r\n  ms_per_hr,\r\n  encode_id,\r\n  write_file,\r\n  as_array,\r\n} from '../../../../utils/reader'\r\nimport { ProjectReader } from './ProjectReader'\r\n\r\n/**\r\n * https://learn.microsoft.com/en-us/office-project/xml-data-interchange/project-elements-and-xml-structure?view=project-client-2016\r\n */\r\n\r\nexport class MspReader extends ProjectReader {\r\n  parse_text(text = '') {\r\n    let parser = new XMLParser({\r\n      ignoreAttributes: false,\r\n    })\r\n    this.raw_data = parser.parse(text)\r\n  }\r\n\r\n  extract_data() {\r\n    let tasks = {}\r\n    let rsrcs = {}\r\n    let clndrs = {\r\n      'id_-1': {\r\n        id: 'id_-1',\r\n        name: 'standard 5x(4+4)',\r\n        week_hr_cnt: 40,\r\n      },\r\n    }\r\n\r\n    let prj = this.raw_data.Project\r\n\r\n    let all_tasks = {}\r\n    prj.Tasks.Task.forEach((t) => {\r\n      let id = encode_id(t.UID)\r\n      let is_summary = t.Summary\r\n      let name = t.Name\r\n      all_tasks[id] = { is_summary, name }\r\n    })\r\n\r\n    prj.Tasks.Task.forEach((t) => {\r\n      let id = encode_id(t.UID)\r\n      let name = t.Name\r\n      let start = Date.parse(t.Start + 'Z')\r\n      let finish = Date.parse(t.Finish + 'Z')\r\n      let drtn_hr = parse_drtn_hr(t.Duration)\r\n      let act_start = Date.parse(t.ActualStart + 'Z')\r\n      let act_finish = Date.parse(t.ActualFinish + 'Z')\r\n      let clndr_id = encode_id(t.CalendarUID)\r\n\r\n      \r\n\r\n      let preds = {}\r\n      as_array(t.PredecessorLink).forEach((x) => {\r\n        let p_id = encode_id(x.PredecessorUID)\r\n        let type = { 0: 'FF', 1: 'FS', 2: 'SF', 3: 'SS' }[x.Type]\r\n        let lag_hr = x.LinkLag / 600\r\n        let p = all_tasks[p_id]\r\n        if (p.is_summary) {\r\n          let msg = `ignoring RELATIONSHIP between \\`${p.name}\\` and \\`${name}\\` because the former is a summary`\r\n          this.errors.add(msg)\r\n        } else {\r\n          preds[p_id] = {\r\n            id: id + '-' + p_id,\r\n            t_id: id,\r\n            p_id,\r\n            type,\r\n            lag_hr,\r\n          }\r\n        }\r\n      })\r\n\r\n      if (all_tasks[id].is_summary) {\r\n        //let msg = `ignoring TASK [${name}] because it is a summary`\r\n      } else {\r\n        tasks[id] = {\r\n          id,\r\n          name,\r\n          start,\r\n          finish,\r\n          drtn_hr,\r\n          act_start,\r\n          act_finish,\r\n          preds,\r\n          rsrcs: {},\r\n          clndr_id\r\n        }\r\n      }\r\n    })\r\n\r\n    as_array(prj.Resources.Resource).forEach((r) => {\r\n      let id = encode_id(r.UID)\r\n      let name = r.Name\r\n      let type = ['Material', 'Work', 'Cost'][r.Type]\r\n      type = { Work: 'Labor', Material: 'Material', Cost: 'Cost' }[type]\r\n      rsrcs[id] = { id, name, type, dist: {} }\r\n    })\r\n\r\n    prj.Calendars.Calendar.forEach((c) => {\r\n      let id = encode_id(c.UID)\r\n      let name = c.Name\r\n\r\n      let week_hr_cnt = 0\r\n\r\n      if (c.WeekDays) {\r\n        c.WeekDays.WeekDay.forEach((d) => {\r\n          let day_name = [null, 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'][\r\n            d.DayType\r\n          ]\r\n          if (!day_name) return\r\n\r\n          as_array(d.WorkingTimes?.WorkingTime).forEach((t) => {\r\n            let x = parse_time(t.ToTime) - parse_time(t.FromTime)\r\n            let hr = x / ms_per_hr\r\n            if (hr < 0) hr += 24\r\n            week_hr_cnt += hr\r\n          })\r\n        })\r\n      }\r\n\r\n      clndrs[id] = { id, name, week_hr_cnt }\r\n    })\r\n\r\n    if (prj.Assignments?.Assignment)\r\n      prj.Assignments.Assignment.forEach((x) => {\r\n        if (!x.Work) return\r\n        let id = encode_id(x.UID)\r\n        let t_id = encode_id(x.TaskUID)\r\n        let r_id = encode_id(x.ResourceUID)\r\n        if (!rsrcs[r_id]) {\r\n          this.errors.add(`unknown resource \\`${r_id}\\` in resource assignment`)\r\n          return\r\n        }\r\n        let work_hr = parse_drtn_hr(x.Work)\r\n        let units = work_hr / tasks[t_id].drtn_hr\r\n\r\n        /*let units_2 = parseFloat(x.Units)\r\n      let units_3 = Math.round(parseFloat(x.PeekUnits))\r\n      console.log(units === units_3)*/\r\n\r\n        tasks[t_id].rsrcs[r_id] = {\r\n          id,\r\n          t_id,\r\n          r_id,\r\n          work_hr,\r\n          units,\r\n        }\r\n      })\r\n\r\n    this.data = { tasks, rsrcs, clndrs }\r\n  }\r\n\r\n  merge_data(inp) {\r\n    let prj = this.raw_data.Project\r\n\r\n    prj.Tasks.Task.forEach((t) => {\r\n      if (t.Summary) return\r\n      let id = encode_id(t.UID)\r\n      let t2 = inp.tasks[id]\r\n\r\n      t.Start = t.EarlyStart = t.LateStart = to_iso(t2.start_2)\r\n      t.Finish = t.EarlyFinish = t.LateFinish = to_iso(t2.finish_2)\r\n      t.Duration = recover_drtn(t2.drtn_hr_2)\r\n      if (t.act_start && t.act_finish) {\r\n        t.ActualDuration = t.Duration\r\n      }\r\n    })\r\n\r\n    prj.Assignments.Assignment.forEach((x) => {\r\n      if (!x.Work) return\r\n      let id = encode_id(x.UID)\r\n      let x2 = inp.task_rsrcs[id]\r\n      if (!x2) return\r\n      x.PeekUnits = x2.units_2\r\n    })\r\n  }\r\n\r\n  export() {\r\n    let builder = new XMLBuilder({\r\n      ignoreAttributes: false,\r\n    })\r\n    let text = builder.build(this.raw_data)\r\n    let name = this.filename.replace('.xml', '_Frontline.xml')\r\n    write_file(name, text)\r\n  }\r\n}","import { ProjectReader } from './ProjectReader'\r\nimport { format_date, encode_id, write_file, to_dict } from '../../../../utils/reader'\r\n\r\n/**\r\n * https://docs.oracle.com/cd/F51303_01/English/Mapping_and_Schema/xer_import_export_data_map_project/\r\n */\r\n\r\nexport class XerReader extends ProjectReader {\r\n  parse_text(text = '') {\r\n    let prj = { tables: {} },\r\n      table = [],\r\n      keys\r\n    text.split('\\n').forEach((line) => {\r\n      let cols = line.split('\\t').map((x) => x.trim())\r\n      let type = cols[0],\r\n        items = cols.slice(1)\r\n      switch (type) {\r\n        case 'ERMHDR':\r\n          prj.header = items\r\n          break\r\n        case '%T':\r\n          table = prj.tables[cols[1]] = []\r\n          break\r\n        case '%F':\r\n          keys = items\r\n          break\r\n        case '%R':\r\n          table.push(to_dict(keys, items))\r\n          break\r\n        case '%E':\r\n          break\r\n        default:\r\n          console.error(type)\r\n          break\r\n      }\r\n    })\r\n    this.raw_data = prj\r\n  }\r\n\r\n  extract_data() {\r\n    let tasks = {}\r\n    let rsrcs = {}\r\n    let clndrs = {}\r\n\r\n    let prj = this.raw_data.tables\r\n    const task_id_code_map = {}\r\n\r\n    prj.TASK.forEach((t) => {\r\n      let id = encode_id(t.task_id)\r\n      let name = t.task_name\r\n      let start = Date.parse(t.target_start_date + 'Z')\r\n      let finish = Date.parse(t.target_end_date + 'Z')\r\n      let drtn_hr = parseFloat(t.target_drtn_hr_cnt)\r\n      let act_start = Date.parse(t.act_start_date + 'Z')\r\n      let act_finish = Date.parse(t.act_end_date + 'Z')\r\n      let clndr_id = encode_id(t.clndr_id)\r\n      const task_code = t.task_code\r\n      task_id_code_map[id] = task_code\r\n\r\n      tasks[id] = {\r\n        id,\r\n        name,\r\n        start,\r\n        finish,\r\n        drtn_hr,\r\n        act_start,\r\n        act_finish,\r\n        preds: {},\r\n        rsrcs: {},\r\n        clndr_id,\r\n        task_code\r\n      }\r\n    })\r\n\r\n    if (prj.RSRC) {\r\n      prj.RSRC.forEach((r) => {\r\n        let id = encode_id(r.rsrc_id)\r\n        let name = r.rsrc_name\r\n        let type = r.rsrc_type.slice(3)\r\n        type = { Labor: 'Labor', Equip: 'Equipment', Mat: 'Material' }[type]\r\n        rsrcs[id] = { id, name, type, dist: {} }\r\n      });\r\n    }\r\n\r\n    prj.CALENDAR.forEach((c) => {\r\n      let id = encode_id(c.clndr_id)\r\n      let name = c.clndr_name\r\n      let week_hr_cnt = parseFloat(c.week_hr_cnt)\r\n      clndrs[id] = { id, name, week_hr_cnt }\r\n    });\r\n\r\n    prj.TASKPRED.forEach((x) => {\r\n      let id = encode_id(x.task_pred_id)\r\n      let t_id = encode_id(x.task_id)\r\n      let p_id = encode_id(x.pred_task_id)\r\n      let type = x.pred_type.slice(3)\r\n      let lag_hr = parseFloat(x.lag_hr_cnt)\r\n      tasks[t_id].preds[p_id] = {\r\n        id,\r\n        t_id,\r\n        p_id,\r\n        type,\r\n        lag_hr,\r\n      }\r\n    })\r\n\r\n    if (prj.TASKRSRC) {\r\n      prj.TASKRSRC.forEach((x) => {\r\n        let id = encode_id(x.taskrsrc_id)\r\n        let t_id = encode_id(x.task_id)\r\n        const t_code = task_id_code_map[t_id]\r\n        let r_id = encode_id(x.rsrc_id)\r\n        let work_hr = parseFloat(x.target_qty)\r\n        let units = work_hr / tasks[t_id].drtn_hr\r\n\r\n        /*let units_2 = parseFloat(x.target_qty_per_hr);\r\n        if (units.toFixed(4) !== units_2.toFixed(4)) {\r\n          console.log(work_hr, tasks[t_id].drtn_hr, units, units_2);\r\n        }*/\r\n        if (tasks[t_id].rsrcs[r_id]) {\r\n          this.errors.add(\r\n            `removed duplicate assignment between task \\`${t_id}\\` and resource \\`${r_id}\\``\r\n          );\r\n          x.DELETE = true;\r\n          return;\r\n        }\r\n        tasks[t_id].rsrcs[r_id] = {\r\n          id,\r\n          t_id,\r\n          t_code,\r\n          r_id,\r\n          work_hr,\r\n          units,\r\n        }\r\n      })\r\n      prj.TASKRSRC = prj.TASKRSRC.filter((x) => !x.DELETE)\r\n    }\r\n\r\n    this.data = { tasks, rsrcs, clndrs }\r\n  }\r\n\r\n  merge_data(inp) {\r\n    let prj = this.raw_data.tables\r\n\r\n    prj.TASK.forEach((t) => {\r\n      let id = encode_id(t.task_id)\r\n      let t2 = inp.tasks[id]\r\n      t.target_start_date =\r\n        t.early_start_date =\r\n        t.late_start_date =\r\n          format_date(t2.start_2)\r\n      t.target_end_date =\r\n        t.early_end_date =\r\n        t.late_end_date =\r\n          format_date(t2.finish_2)\r\n      t.target_drtn_hr_cnt = t2.drtn_hr_2\r\n    })\r\n\r\n    if (prj.TASKRSRC) {\r\n      prj.TASKRSRC.forEach((x) => {\r\n        let id = encode_id(x.taskrsrc_id)\r\n        let x2 = inp.task_rsrcs[id]\r\n        x.target_qty_per_hr = x2.units_2\r\n      })\r\n    }\r\n  }\r\n\r\n  export() {\r\n    let lines = []\r\n    lines.push(['ERMHDR', ...this.raw_data.header].join('\\t'))\r\n    let prj = this.raw_data.tables\r\n    Object.entries(prj).forEach(([key, table]) => {\r\n      lines.push(['%T', key].join('\\t'))\r\n      lines.push(['%F', ...Object.keys(table[0])].join('\\t'))\r\n      table.forEach((row) => {\r\n        lines.push(['%R', ...Object.values(row)].join('\\t'))\r\n      })\r\n    })\r\n    lines.push('%E')\r\n    let name = this.filename.replace('.xer', '_Frontline.xer')\r\n    write_file(name, lines.join('\\n'))\r\n  }\r\n}","import { Input, Modal } from '@mui/material'\r\nimport styled from 'styled-components'\r\n\r\nexport const Content = styled.div`\r\n    background: #ffffff;\r\n    padding: 1px 20px 20px;\r\n`\r\n\r\nexport const OptimizationContainer = styled.div`\r\n  width: 100%;\r\n  .upload-file {\r\n    /* width: 100%; */\r\n    margin: 20px 0;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    color: #008277;\r\n    font-weight: 700;\r\n    button, input {\r\n      /* width: 100% !important; */\r\n      justify-content: flex-start;\r\n      font-family: \"Inter\", sans-serif;\r\n    }\r\n    label {\r\n      font-weight: 700 !important;\r\n      svg {\r\n        margin-right: 8px;\r\n      }\r\n    }\r\n    .upload-button {\r\n      background: #008277;\r\n      color: #FFFFFF;\r\n      border: 1px transparent;\r\n      padding: 10px 20px;\r\n      text-align: center;\r\n      margin-right: 20px;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      &:hover {\r\n        background: #0b534d;\r\n      }\r\n      &.second-upload {\r\n        color: #008277;\r\n        background: transparent;\r\n        border: 1px solid;\r\n        &:hover {\r\n          color: #0b534d;\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .optimization-input {\r\n    width: 100%;\r\n    display: flex;\r\n    align-items: center;\r\n    flex-direction: column;\r\n    .section {\r\n      width: 100%;\r\n      display: flex;\r\n      margin: 10px 0;\r\n      min-height: 50px;\r\n      display: flex-start !important;\r\n      justify-content: space-between;\r\n      position: relative;\r\n      &.disabled {\r\n        opacity: 0.3;\r\n      }\r\n      &:last-of-type {\r\n        &:after {\r\n          height: 0;\r\n        }\r\n      }\r\n      &:after {\r\n        content: '';\r\n        position: absolute;\r\n        background: #eeeeee;\r\n        bottom: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 1px;\r\n      }\r\n      .intro {\r\n        width: 40%;\r\n        h2 {\r\n          margin: 0;\r\n          font-size: 18px;\r\n          font-weight: 500;\r\n        }\r\n        h3 {\r\n          margin: 0;\r\n          color: #888888;\r\n          font-weight: 300;\r\n          font-size: 16px;\r\n          line-height: 16px;\r\n        }\r\n      }\r\n      .input-wrapper {\r\n        width: 60%;\r\n        .inputs {\r\n          margin: 0 0 20px;\r\n          display: flex;\r\n          justify-content: space-between;\r\n        }\r\n      }\r\n      label {\r\n         margin-bottom: 0px;\r\n         font-weight: 400;\r\n         display: flex;\r\n         align-items: center;\r\n        svg {\r\n          margin-left: 5px;\r\n          width: 18px;\r\n        }\r\n      }\r\n      .MuiSlider-colorPrimary {\r\n        color: #00A597;\r\n        margin: 15px 0;\r\n      }\r\n      .MuiInput-root {\r\n        margin: 6px 0;\r\n        border: 1px solid #f2f2f2;\r\n        &.Mui-focused {\r\n          border: 1px solid #00beae;\r\n          background: #ffffff;\r\n        }\r\n        &:after {\r\n          border: 0;\r\n        }\r\n      }\r\n      .MuiFormControl-root {\r\n        width: 45%;\r\n        margin-right: 50px;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const LoadingModal = styled(Modal)`\r\n  .MuiBox-root {\r\n    background: #f2f2f2;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n    text-align: center;\r\n    .loader {\r\n      width: 64px;\r\n      height: 64px;\r\n      background: linear-gradient(180deg, #002F2B 0%, rgba(0, 0, 0, 0.1) 25%);\r\n      border-radius: 50%;\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      position: relative;\r\n      animation: spin 1s linear infinite;\r\n      margin: 0 0 15px;\r\n    }\r\n    .loader::after {\r\n      content: \"\";\r\n      width: calc(100% - 4px);\r\n      height: calc(100% - 4px);\r\n      border-radius: 50%;\r\n      background: #f2f2f2;\r\n    }\r\n    @keyframes spin {\r\n      100% {\r\n        transform: rotate(360deg);\r\n      }\r\n    }\r\n    .title {\r\n      font-size: 20px;\r\n      font-family: \"Nunito\", sans-serif;\r\n      font-weight: 500;\r\n      margin: 0 0 15px;\r\n    }\r\n    span {\r\n      color: #696969;\r\n    }\r\n    &:focus-visible {\r\n      outline: none;\r\n    }\r\n}\r\n`\r\n\r\nexport const InputField = styled(Input)`\r\n  background: #f2f2f2;\r\n  border-radius: 6px;\r\n  padding: 4px 8px;\r\n  &:before {\r\n    border: 0 !important;\r\n  }\r\n`","import React, { useState, useEffect } from 'react'\r\n\r\nimport { Slider, FormControl, Tooltip, Box } from '@mui/material'\r\n\r\nimport InfoIcon from '@mui/icons-material/Info'\r\nimport UploadFileIcon from '@mui/icons-material/UploadFile'\r\n\r\nimport { PrimaryButton } from 'src/styled'\r\n\r\nimport { Optimizer } from './optimizers/Optimizer'\r\nimport { MspReader } from './readers/MspReader'\r\nimport { XerReader } from './readers/XerReader'\r\n\r\nimport { Content, OptimizationContainer, InputField, LoadingModal } from './styled'\r\n\r\nconst style = {\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)',\r\n  width: 400,\r\n  p: 3\r\n}\r\n\r\nconst ratioMarks = [{\r\n  value: 0,\r\n  label: '0%',\r\n},\r\n{\r\n  value: 100,\r\n  label: '100%',\r\n},\r\n{\r\n  value: 200,\r\n  label: '200%',\r\n},]\r\n\r\nconst stepMarks = [{\r\n  value: 0,\r\n  label: '0',\r\n},\r\n{\r\n  value: 50,\r\n  label: '50',\r\n},\r\n{\r\n  value: 100,\r\n  label: '100',\r\n},]\r\n\r\nexport default function InputData({ fileName, setFileName, constraintsFileName, setConstraintsFileName, project, updateProject, goNext }) {\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [isFileUploaded, setIsFileUploaded] = useState(project?.fileReader ? true : false)\r\n  const [ratio, setRatio] = useState(project?.optimizer?.sim_in ? [Math.ceil(project.optimizer.sim_in['min_ratio'] * 100), Math.ceil(project.optimizer.sim_in['max_ratio'] * 100)] : [50, 150])\r\n  const [steps, setSteps] = useState(project?.optimizer?.sim_in ? project.optimizer.sim_in['steps'] : 20)\r\n\r\n\r\n  const todaysDate = new Date()\r\n  const [minStartDate, setMinStartDate] = useState(-1)\r\n  const [date, setDate] = useState(project?.optimizer?.sim_in ? project.optimizer.sim_in['default_start'] : todaysDate.toISOString().slice(0, 10))\r\n\r\n  useEffect(() => {\r\n    if (project?.optimizer?.sim_in)\r\n      project.optimizer.sim_in['default_start'] = date\r\n    updateProject(project)\r\n  }, [date])\r\n\r\n  useEffect(() => {\r\n    if (project?.optimizer?.sim_in)\r\n      project.optimizer.sim_in['steps'] = steps\r\n    updateProject(project)\r\n  }, [steps])\r\n\r\n  useEffect(() => {\r\n    if (project?.optimizer?.sim_in) {\r\n      project.optimizer.sim_in['min_ratio'] = ratio[0] / 100\r\n      project.optimizer.sim_in['max_ratio'] = ratio[1] / 100\r\n    }\r\n    updateProject(project)\r\n  }, [ratio])\r\n\r\n  function readProject(file, isDemo) {\r\n    setIsLoading(true)\r\n    let reader\r\n    if (file.name.endsWith('xer'))\r\n      reader = new XerReader()\r\n    else if (file.name.endsWith('xml'))\r\n      reader = new MspReader()\r\n\r\n    reader.read_from_file(file).then(async (x) => {\r\n      let min_start = -1\r\n      Object.values(reader.data.tasks).forEach((t) => {\r\n        if (min_start === -1 || min_start > t.start)\r\n          min_start = t.start\r\n      })\r\n      setMinStartDate(min_start)\r\n      // setDate((new Date(min_start)).toISOString().slice(0, 10))\r\n      const opt = new Optimizer(reader)\r\n      opt.sim_in.default_start = min_start\r\n      opt.sim_in.steps = 1\r\n      if (opt.init) { await opt.init() }\r\n      opt.optimize(() => { }, (opt_res) => {\r\n        setFileName(file.name)\r\n        setIsLoading(false)\r\n        opt.baseline_result = opt_res[0]\r\n        opt.sim_in.steps = steps\r\n        Object.keys(reader.data.rsrcs).forEach(r => reader.data.rsrcs[r].baseline_resource = opt_res[0].inp.rsrcs[r].max)\r\n        updateProject({ fileReader: reader, optimizer: opt, isDemo: isDemo })\r\n        setIsFileUploaded(true)\r\n      })\r\n    })\r\n  }\r\n\r\n  function readConstraints(file) {\r\n    if (!project?.fileReader)\r\n      return\r\n    setConstraintsFileName(file.name)\r\n    project.fileReader.read_constraints(file)\r\n    updateProject(project)\r\n  }\r\n\r\n  function useDemoProject() {\r\n    fetch('/demo_project.xml')\r\n      .then((r) => r.blob())\r\n      .then((r) => {\r\n        const file = new File([r], 'demo_project.xml')\r\n        readProject(file, true)\r\n      })\r\n  }\r\n\r\n  return <Content>\r\n    <h2>Upload schedule and enter optimization settings</h2>\r\n    <OptimizationContainer>\r\n      <div className='optimization-input'>\r\n        <div className='section'>\r\n          <div className='intro'>\r\n            <h2>Schedule</h2>\r\n            <h3>Upload your schedule,  accepted file formats are: .xer or .xml</h3>\r\n          </div>\r\n          <div className='input-wrapper'>\r\n            <div className='inputs' style={{ alignItems: 'center' }}>\r\n              <div className='upload-file'>\r\n                <input hidden type='file' id='project-file' name='project' onChange={(e) => { readProject(e.target.files[0], false) }} accept='.xer,.xml' />\r\n                <label className='upload-button' htmlFor='project-file'>\r\n                  <UploadFileIcon /> Upload file\r\n                </label>\r\n                <span>{fileName}</span>\r\n              </div>\r\n              <span>or <span style={{ textDecoration: 'underline', cursor: 'pointer' }} onClick={useDemoProject}> use a demo project</span></span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={`section ${isFileUploaded ? '' : 'disabled'}`}>\r\n          <div className='intro'>\r\n            <h2>Constraints</h2>\r\n            <h3>Upload your constraints (<span style={{ textDecoration: 'underline', cursor: 'pointer' }} onClick={() => { project.fileReader.export_constraints() }}>download template</span>)</h3>\r\n          </div>\r\n          <div className='input-wrapper'>\r\n            <div className='inputs'>\r\n              <div className='upload-file'>\r\n                <input hidden type='file' id='constraints-file' name='constraints' onChange={(e) => { readConstraints(e.target.files[0]) }} accept='.xls,.xlsx' />\r\n                <label className='upload-button  second-upload' htmlFor='constraints-file'>\r\n                  <UploadFileIcon /> Upload file\r\n                </label>\r\n                <span>{constraintsFileName}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={`section ${isFileUploaded ? '' : 'disabled'}`}>\r\n          <div className='intro'>\r\n            <h2>Optimization Settings</h2>\r\n            <h3>Customize your optimization results</h3>\r\n          </div>\r\n          <div className='input-wrapper'>\r\n            <div className='inputs'>\r\n              <FormControl>\r\n                <label>Default Start Date</label>\r\n                <InputField\r\n                  type='date'\r\n                  inputProps={{\r\n                    min: (new Date(minStartDate)).toISOString().slice(0, 10),\r\n                  }}\r\n                  defaultValue={date}\r\n                  onChange={(e) => setDate(e.target.value)}\r\n                  id='start-date'\r\n                  placeholder='eg: 2023-10-19'\r\n                  variant='outlined'\r\n                  disabled={!isFileUploaded}\r\n                />\r\n                <small>Please enter commencement date</small>\r\n              </FormControl>\r\n              <FormControl>\r\n                <label>Learning Rate <Tooltip title={<div style={{ fontSize: '13px', fontFamily: 'Inter' }}>The learning rate is a tuning parameter in an optimization algorithm that determines the step size at each iteration while moving toward a minimum of a loss function.</div>}><InfoIcon /></Tooltip></label>\r\n                <InputField\r\n                  id='start-date'\r\n                  defaultValue={0.1}\r\n                  placeholder='eg: 0.005'\r\n                  variant='outlined'\r\n                  disabled={!isFileUploaded}\r\n                />\r\n              </FormControl>\r\n            </div>\r\n            {/* Min & Max (Optimization Ratio) needs to have a range increments: 5% to 200% */}\r\n            <div className='inputs'>\r\n              <FormControl style={{ width: '100%' }}>\r\n                <label>Optimization Ratio {ratio ? <>({ratio[0].toString()}% - {ratio[1].toString()}%)</> : ''}\r\n                  <Tooltip title={<div style={{ fontSize: '13px', fontFamily: 'Inter' }}>Ratio = New Duration over Baseline Duration</div>}><InfoIcon /></Tooltip>\r\n                </label>\r\n                <Slider\r\n                  id='optimization-ratio'\r\n                  step={5}\r\n                  min={0}\r\n                  max={200}\r\n                  valueLabelDisplay='auto'\r\n                  getAriaLabel={() => 'Optimization Ratio'}\r\n                  value={ratio}\r\n                  marks={ratioMarks}\r\n                  onChange={(e) => setRatio(e.target.value)}\r\n                  disabled={!isFileUploaded}\r\n                />\r\n              </FormControl>\r\n            </div>\r\n            <div className='inputs'>\r\n              <FormControl style={{ width: '100%' }}>\r\n                <label>Optimization Steps ({steps.toString()})</label>\r\n                <Slider\r\n                  id='optimization-steps'\r\n                  aria-label='optimization-steps'\r\n                  value={steps}\r\n                  onChange={(e) => setSteps(e.target.value)}\r\n                  step={1}\r\n                  min={10}\r\n                  max={50}\r\n                  marks={stepMarks}\r\n                  valueLabelDisplay='auto'\r\n                  disabled={!isFileUploaded}\r\n                />\r\n              </FormControl>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='row'>\r\n        <div />\r\n        <PrimaryButton variant='contained' onClick={goNext}\r\n          disabled={!isFileUploaded} >\r\n          Next\r\n        </PrimaryButton>\r\n      </div>\r\n\r\n      <LoadingModal\r\n        open={isLoading}\r\n        aria-labelledby='modal-modal-title'\r\n        aria-describedby='modal-modal-description'\r\n      >\r\n        <Box sx={style}>\r\n          <div className='loader'> </div>\r\n          <div className='title' id='modal-modal-title'>\r\n            Uploading data...\r\n          </div>\r\n          <span>Please wait. This action may take up to a few minutes depending on the size of your file.</span>\r\n        </Box>\r\n      </LoadingModal>\r\n    </OptimizationContainer>\r\n  </Content>\r\n}","import * as d3 from 'd3'\r\n\r\nexport function init_d3({\r\n  margin = 40,\r\n  x_domain,\r\n  y_domain,\r\n  width,\r\n  height,\r\n  ref,\r\n  x_label,\r\n  y_label,\r\n  x_type = d3.scaleLinear,\r\n  y_type = d3.scaleLinear,\r\n}) {\r\n\r\n  const x1 = margin,\r\n    x2 = width - margin,\r\n    y2 = margin,\r\n    y1 = height - margin,\r\n    x_scale = x_type(x_domain, [x1, x2]),\r\n    y_scale = y_type(y_domain, [y1, y2])\r\n\r\n  const svg = d3.select(ref.current).attr('width', width).attr('height', height)\r\n  svg.selectChildren().remove()\r\n\r\n  const x_axis = svg.append('g')\r\n\r\n  x_axis\r\n    .call(d3.axisBottom(x_scale))\r\n    .attr('transform', `translate(0, ${y1})`)\r\n    .call((g) => {\r\n      g.append('text')\r\n        .attr('x', width / 2)\r\n        .attr('y', 40)\r\n        .attr('fill', '#2d2d2d')\r\n        .attr('font-size', 16)\r\n        .attr('text-align', 'right')\r\n        .text(x_label)\r\n    })\r\n\r\n  const x_axis_2 = svg.append('g')\r\n  x_axis_2.call(d3.axisTop(x_scale).tickValues([])).attr('transform', `translate(0, ${y2})`)\r\n\r\n  const y_axis = svg.append('g')\r\n  y_axis\r\n    .call(d3.axisLeft(y_scale))\r\n    .attr('transform', `translate(${x1}, 0)`)\r\n    .call((g) => {\r\n      g.append('text')\r\n        .attr('text-anchor', 'end')\r\n        .attr('y', 30) // margin from TOP\r\n        .attr('x', -30) // margin from TOP\r\n        .attr('fill', '#2d2d2d')\r\n        .attr('font-size', 16)\r\n        .text(y_label)\r\n        // .attr('transform', 'rotate(-90)')\r\n        .attr('text-anchor', 'start')\r\n    })\r\n\r\n  const y_axis_2 = svg.append('g')\r\n  y_axis_2.call(d3.axisRight(y_scale).tickValues([])).attr('transform', `translate(${x2}, 0)`)\r\n\r\n\r\n  const xGrid = d3.axisBottom()\r\n    .scale(x_scale)\r\n    .tickFormat('')\r\n    .tickSizeInner(height - 2 * margin)\r\n\r\n  svg.append('g')\r\n    .attr('class', 'x-grid')\r\n    .attr('transform', `translate(0, ${y2})`)\r\n    .style('opacity', 0.3)\r\n    .style('stroke-dasharray', ('3, 3'))\r\n    .call(xGrid)\r\n\r\n  const yGrid = d3.axisLeft()\r\n    .scale(y_scale)\r\n    .tickFormat('')\r\n    .tickSizeInner(-width + 2 * margin)\r\n\r\n  svg.append('g')\r\n    .attr('class', 'x-grid')\r\n    .attr('transform', `translate(${x1}, 0)`)\r\n    .style('opacity', 0.3)\r\n    .style('stroke-dasharray', ('3, 3'))\r\n    .call(yGrid)\r\n\r\n  return { svg, x_scale, y_scale }\r\n}\r\n\r\nexport function domains_with_margin(x_domain, y_domain, x_amount, y_amount) {\r\n  const x_margin = (x_domain[1] - x_domain[0]) * x_amount\r\n  const y_margin = (y_domain[1] - y_domain[0]) * y_amount\r\n  return {\r\n    x_domain: [x_domain[0] - x_margin, x_domain[1] + x_margin],\r\n    y_domain: [y_domain[0] - y_margin, y_domain[1] + y_margin]\r\n  }\r\n}","export const plot_color_palette = {\r\n  TaskPlot: {\r\n    optimizedTask: '#82B5C7',\r\n    optimizedCriticalTask: '#e6171799',\r\n    baselineTask: '#CCCCCC',\r\n    baselineCriticalTask: '#e6a7a7'\r\n  },\r\n  ResourcePlot: {\r\n    allResources: ['#55CBCD98', '#f7dc5b98', '#FFAEA598', '#82B5C798', '#939ce398', '#AABB5D98', '#BAA19098', '#db793098', '#099A4D98', '#f07e9398']\r\n\r\n  }\r\n}","import * as xlsx from 'xlsx'\r\n\r\nexport const ms_per_hr = 60 * 60 * 1000\r\nexport const ms_per_day = 24 * ms_per_hr\r\nexport const ms_per_week = 7 * ms_per_day\r\n\r\nexport function encode_id(id) { return 'id_' + id }\r\nexport function len(x) { return Object.keys(x).length }\r\nexport function copy(x) { return JSON.parse(JSON.stringify(x)) }\r\n\r\nexport function parse_drtn_hr(x = 'PT200H0M0S') {\r\n    return parseFloat(x.split('PT')[1].split('H')[0])\r\n}\r\n\r\nexport function recover_drtn(drtn_hr) {\r\n    return 'PT' + drtn_hr + 'H0M0S'\r\n}\r\n\r\nexport function parse_time(x = '07:00:00') {\r\n    return Date.parse(\"1971-06-28T\" + x)\r\n        - Date.parse(\"1971-06-28T00:00:00\")\r\n}\r\n\r\nexport function to_iso(timestamp) {\r\n    return new Date(timestamp).toISOString().split('.')[0]\r\n}\r\n\r\nexport function fmt_date(date) {\r\n    return new Date(date).toISOString().replace('T', ' ').slice(0, 16)\r\n}\r\n\r\nexport function export_excel({ book, filename }) {\r\n    let wb = xlsx.utils.book_new()\r\n    Object.entries(book).forEach(([name, data]) => {\r\n        let ws = xlsx.utils.json_to_sheet(Object.values(data))\r\n        xlsx.utils.book_append_sheet(wb, ws, name)\r\n    })\r\n    xlsx.writeFile(wb, filename)\r\n}\r\n\r\nexport function read_excel(file) {\r\n    return new Promise((res) => {\r\n        let reader = new FileReader()\r\n        reader.onload = e => {\r\n            let book = xlsx.read(e.target.result, { type: 'binary' })\r\n            let data = {}\r\n            book.SheetNames.forEach(name => {\r\n                data[name] = xlsx.utils.sheet_to_json(book.Sheets[name], {\r\n                    //raw: true,\r\n                })\r\n            })\r\n            res(data)\r\n        }\r\n        reader.readAsBinaryString(file)\r\n    })\r\n}\r\n\r\nexport function to_dict(keys = [], values = []) {\r\n    let dic = {}\r\n    keys.forEach((k, i) => dic[k] = values[i])\r\n    return dic\r\n}\r\n\r\nexport function export_file(filename, text) {\r\n    let elm = document.createElement('a')\r\n    let prefix = 'data:text/plain;charset=utf-8,'\r\n    elm.setAttribute('href', prefix + encodeURIComponent(text))\r\n    elm.setAttribute('download', filename)\r\n    elm.style.display = 'none'\r\n    document.body.appendChild(elm)\r\n    elm.click()\r\n    document.body.removeChild(elm)\r\n}\r\n\r\nexport function down_sample(data_, keep) {\r\n    let data = []\r\n    if (data_.length > keep) {\r\n        let skip = Math.floor(data_.length / keep)\r\n        for (let i = 0; i < keep; i++) {\r\n            data.push(data_[i * skip])\r\n        }\r\n    }\r\n    else data = data_\r\n    return data\r\n}\r\n\r\nexport function sleep(ms) {\r\n    return new Promise((res, rej) => {\r\n        setTimeout(() => { res() }, ms)\r\n    })\r\n}","import React, { useEffect, useRef } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\nimport { init_d3 } from '../../../../utils/plot'\r\nimport { plot_color_palette } from '../../../../utils/color'\r\nimport { len, down_sample } from '../../../../mods/a_utils'\r\n\r\nexport default function TaskPlot({\r\n  tasks,\r\n  baselineTasks,\r\n  width,\r\n  height,\r\n  color,\r\n  keep = 400,\r\n}) {\r\n  const ref = useRef()\r\n  useEffect(() => {\r\n    if (!(baselineTasks && len(baselineTasks)) || (!(tasks) && len(tasks))) return\r\n\r\n    let data = Object.values(tasks).sort((a, b) => a.start_2 - b.start_2)\r\n    let baselineData = Object.values(baselineTasks).sort((a, b) => a.start_2 - b.start_2)\r\n    if (data.length > keep) {\r\n      data = data.filter(d => d.critical)\r\n      baselineData = baselineData.filter(bd => bd.critical)\r\n    }\r\n\r\n    const x_optimized_domain = [\r\n      Math.min(...data.map((d) => d.start_2)),\r\n      Math.max(...data.map((d) => d.finish_2)),\r\n    ]\r\n    const x_baseline_domain = [\r\n      Math.min(...baselineData.map((d) => d.start_2)),\r\n      Math.max(...baselineData.map((d) => d.finish_2)),\r\n    ]\r\n    const x_domain = [\r\n      Math.min(x_optimized_domain[0], x_baseline_domain[0]),\r\n      Math.max(x_optimized_domain[1], x_baseline_domain[1]),\r\n    ]\r\n\r\n    data = down_sample(data, keep)\r\n    baselineData = down_sample(baselineData, keep)\r\n\r\n    const y_optimized_domain = [data.length, 0]\r\n    const y_baseline_domain = [baselineData.length, 0]\r\n    const y_domain = [\r\n      Math.max(y_optimized_domain[0], y_baseline_domain[0]),\r\n      Math.min(y_optimized_domain[1], y_baseline_domain[1]),\r\n    ]\r\n\r\n    const { svg, x_scale, y_scale } = init_d3({\r\n      margin: 40,\r\n      x_domain,\r\n      y_domain,\r\n      width: width ? width : 560,\r\n      height: height ? height : 500,\r\n      ref,\r\n      // x_label: 'time',\r\n      // y_label: 'task',\r\n      x_type: d3.scaleUtc,\r\n      y_type: d3.scaleLinear,\r\n    })\r\n\r\n    const rect_base = svg.append('g')\r\n    rect_base\r\n      .selectAll('rect')\r\n      .data(baselineData)\r\n      .join('rect')\r\n      .attr('x', (d) => x_scale(d.start_2))\r\n      .attr('y', (d, i) => y_scale(i))\r\n      .attr('width', (d) =>\r\n        Math.max(x_scale(d.finish_2) - x_scale(d.start_2), 0)\r\n      )\r\n      .attr('height', y_scale(1) - y_scale(0))\r\n      .attr('fill', (d) => (d.critical && len(baselineTasks) <= keep ? plot_color_palette.TaskPlot.baselineCriticalTask : plot_color_palette.TaskPlot.baselineTask))\r\n\r\n    const rect = svg.append('g')\r\n    rect\r\n      .selectAll('rect')\r\n      .data(data)\r\n      .join('rect')\r\n      .attr('x', (d) => x_scale(d.start_2))\r\n      .attr('y', (d, i) => y_scale(i))\r\n      .attr('width', (d) =>\r\n        Math.max(x_scale(d.finish_2) - x_scale(d.start_2), 0)\r\n      )\r\n      .attr('height', y_scale(1) - y_scale(0))\r\n      .attr('fill', (d) => (d.critical && len(tasks) <= keep  ? \r\n        plot_color_palette.TaskPlot.optimizedCriticalTask \r\n        : color ? color : plot_color_palette.TaskPlot.optimizedTask))\r\n\r\n\r\n  }, [tasks])\r\n\r\n  if (!(baselineTasks && len(baselineTasks)) || (!(tasks) && len(tasks))) return null\r\n  const msg =\r\n    len(tasks) > keep\r\n      ? `showing up to 400 critical tasks only due to limited pixels`\r\n      : ''\r\n  return (\r\n    <>\r\n      {/* <Title>{title}</Title> */}\r\n      <br/>\r\n      <>{msg}</>\r\n      <svg ref={ref}></svg>\r\n    </>\r\n  )\r\n}","import React, { useEffect, useRef } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\nimport { init_d3, domains_with_margin } from '../../../../utils/plot'\r\nimport { select } from 'd3'\r\n\r\nexport default function DistibutionPlot({\r\n  results = [],\r\n  optimizer,\r\n  optimizationPresets,\r\n  selectedPreset,\r\n  selectedResultIndex = -1,\r\n  width = 550, height = 500,\r\n  k, x_label, y_label, onClick\r\n}) {\r\n  const ref = useRef()\r\n\r\n  useEffect(() => {\r\n    if (!results?.length) return null\r\n\r\n    let res = [optimizer.baseline_result]\r\n    Object.values(optimizationPresets).forEach((p) => {\r\n      if (p.optimizer.results.length > 0)\r\n        res = res.concat(p.optimizer.results)\r\n    })\r\n\r\n    const x_domain = d3.extent(res.map((d) => d.drtn_day))\r\n    const y_domain = d3.extent(res.map((d) => d[k]))\r\n    const domains = domains_with_margin(x_domain, y_domain, 0.15, 0.15)\r\n\r\n    const { svg, x_scale, y_scale } = init_d3({\r\n      x_domain: domains.x_domain,\r\n      y_domain: domains.y_domain,\r\n      margin: 50,\r\n      width, height, ref,\r\n      x_label,\r\n      y_label,\r\n      x_type: d3.scaleLinear,\r\n      y_type: d3.scaleLinear,\r\n    })\r\n\r\n    const circleBaseline = svg.append('g')\r\n    circleBaseline.selectAll('circle').data([optimizer.baseline_result]).join('circle')\r\n      .attr('cx', d => x_scale(d.drtn_day))\r\n      .attr('cy', d => y_scale(d[k]))\r\n      .attr('r', d => 6)\r\n      .attr('fill', '#cccccc')\r\n\r\n\r\n    Object.keys(optimizationPresets).forEach((preset) => {\r\n      const o = optimizationPresets[preset]\r\n      const circle = svg.append('g')\r\n\r\n      for (const r in o.optimizer.results)\r\n        o.optimizer.results[r].index = parseInt(r)\r\n\r\n      circle.selectAll('circle').data(o.optimizer.results).join('circle')\r\n        .attr('cx', d => x_scale(d.drtn_day))\r\n        .attr('cy', d => y_scale(d[k]))\r\n        .attr('r', (d, i) => {\r\n          if (i === 0) return 0\r\n          return i === o.optimizer.sim_in.steps - 1 ? 6 : 2\r\n        })\r\n        .attr('fill-opacity', (d, i) => i / o.optimizer.results.length)\r\n        .style('stroke', (d, i) => selectedResultIndex === d.index && selectedPreset === preset ? '#e61717' : undefined)\r\n        .attr('stroke-width', (d, i) => selectedResultIndex === d.index && selectedPreset === preset ? 2 : 0)\r\n        .attr('fill', o.color)\r\n        .on('click', (e, d) => {\r\n          onClick(preset, d.index)\r\n        })\r\n        .style('cursor', 'pointer')\r\n    })\r\n  }, [results])\r\n\r\n  if (!results?.length) return null\r\n\r\n  return (\r\n    <svg ref={ref}>\r\n    </svg>\r\n  )\r\n}","import styled from 'styled-components'\r\n\r\nexport const OptimizationContainer = styled.div`\r\n  width: 100%;\r\n  .summary {\r\n    width: 100%;\r\n    display: inline-flex;\r\n    justify-content: space-between;\r\n    background: #fbfbfb;\r\n    margin: 0px 0 20px;\r\n    .stats {\r\n      padding: 25px;\r\n      width: 20%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      position: relative;\r\n      &:last-child {\r\n        &:after {\r\n          width: 0px;\r\n        }\r\n      }\r\n      &:after {\r\n        content: '';\r\n        height: 65px;\r\n        width: 1px;\r\n        background: #eeeeee;\r\n        position: absolute;\r\n        right: 0;\r\n        top: calc(50% - 32px);\r\n      }\r\n      .title {\r\n        display: flex;\r\n        align-items: center;\r\n        svg {\r\n          margin-left: 5px;\r\n          width: 18px;\r\n        }\r\n      }\r\n      .figure {\r\n        display: inline-flex;\r\n        margin: 16px 0;\r\n        align-items: baseline;\r\n        .numbers {\r\n          font-family: \"Lato\", sans-serif;\r\n          font-size: 40px;\r\n          color: #000000;\r\n          font-weight: 700;\r\n          margin-right: 10px;\r\n        }\r\n        .baseline-stats {\r\n            font-family: \"Lato\", sans-serif;\r\n            font-size: 28px;\r\n            color: #999999;\r\n            font-weight: 700;\r\n         }\r\n      }\r\n      .badge {\r\n          padding: 3px 10px;\r\n          font-size: 12px;\r\n          font-weight: 700;\r\n          border-radius: 8px;\r\n          width: 50px;\r\n          display: flex;\r\n          align-items: center;\r\n          svg {\r\n            margin-right: 5px;\r\n          }\r\n          &.plus {\r\n            background: #e2f5e2;\r\n            color: #499249;\r\n          }\r\n          &.minus {\r\n            background: #feeaea;\r\n            color: #ff4d4d;\r\n          }\r\n        }\r\n    }\r\n  }\r\n`\r\nexport const OptimizationCharts = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  /* background: #ffffff; */\r\n  /* padding: 30px 20px; */\r\n  box-sizing: border-box;\r\n  .chart { \r\n    width: 49%;\r\n    .section {\r\n      margin-bottom: 20px;\r\n      background: #ffffff;\r\n      padding: 20px;\r\n    }\r\n  }\r\n  .presets {\r\n    width: 47%;\r\n    background: #ffffff;\r\n    padding: 20px;\r\n  }\r\n`","import React, { useEffect } from 'react'\r\n\r\nimport { FormControlLabel, FormControl, Radio, RadioGroup, Tooltip } from '@mui/material'\r\n\r\nimport InfoIcon from '@mui/icons-material/Info'\r\n\r\nimport TaskPlot from '../OptimizedSummary/components/TaskPlot'\r\nimport DistributionPlot from './components/DistributionPlot'\r\n\r\nimport { OptimizationContainer, OptimizationCharts } from './styled'\r\nimport { PrimaryButton } from 'src/styled'\r\nimport { len } from '../../../mods/a_utils'\r\n\r\nexport default function BaselineSummary({ optimizer, optimizationPresets, selectedPreset, selectedResultIndex, handleSelectPreset, handleSelectResultIndex, goNext }) {\r\n  const loadingPreset = Object.keys(optimizationPresets).filter((o) => {\r\n    return optimizationPresets[o]?.optimizer?.optimizing\r\n  }).map((o) => { return o })[0]\r\n\r\n  const balancedResults = optimizationPresets['balanced']?.optimizer?.results?.length\r\n\r\n  return <OptimizationContainer>\r\n    <h2>Baseline Summary</h2>\r\n    <div className='summary'>\r\n      <div className='stats'>\r\n        <div className='title'>Project Duration (days)\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Math.round(optimizer?.baseline_result?.drtn_day)} </div>\r\n        </div>\r\n      </div >\r\n      <div className='stats'>\r\n        <div className='title'>Resources\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Math.round(optimizer?.baseline_result?.rsrc_max)} </div>\r\n        </div>\r\n      </div >\r\n      <div className='stats'>\r\n        <div className='title'>Tasks\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Object.values(optimizer?.baseline_result?.inp?.tasks).length}</div>\r\n        </div>\r\n      </div >\r\n\r\n      <div className='stats'>\r\n        <div className='title'>Tasks on Critical Path\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Math.round(optimizer?.baseline_result?.num_crt)}  </div>\r\n        </div>\r\n      </div >\r\n    </div >\r\n    {\r\n      optimizer ?\r\n        <OptimizationCharts>\r\n          <div className='chart'>\r\n            <div className='section'>\r\n              <h3>Comparison Chart</h3>\r\n              <div className='legend'>\r\n                <div className='item'>\r\n                  <div style={{ width: '14px', height: '14px', background: '#cccccc', marginRight: '5px', borderRadius: '50%' }}></div>\r\n                  <div>Baseline</div>\r\n                </div>\r\n                {Object.keys(optimizationPresets).map((o) => {\r\n                  return <div key={o} className='item'>\r\n                    <div style={{ width: '14px', height: '14px', background: optimizationPresets[o].color, marginRight: '5px', borderRadius: '50%' }}></div>\r\n                    <div>{optimizationPresets[o].label}</div>\r\n                  </div>\r\n                })}\r\n              </div>\r\n              <DistributionPlot\r\n                results={[...Object.keys(optimizationPresets).filter((o) => {\r\n                  return optimizationPresets[o]?.optimizer?.results.length > 0\r\n                }).map((o) => {\r\n                  return {\r\n                    ...optimizationPresets[o]?.optimizer?.results?.at(-1),\r\n                  }\r\n                }) || [],\r\n                {\r\n                  ...optimizer.baseline_result,\r\n                  option: 'baseline'\r\n                }]}\r\n                optimizer={optimizer}\r\n                optimizationPresets={optimizationPresets}\r\n                selectedPreset={selectedPreset}\r\n                selectedResultIndex={selectedResultIndex}\r\n                k='rsrc_max'\r\n                x_label='Duration (days)'\r\n                y_label='Maximum Resource (units)'\r\n                title={'Maximum of combined resources VS Project duration'}\r\n                onClick={(preset, i) => {\r\n                  handleSelectPreset(preset)\r\n                  handleSelectResultIndex(i)\r\n                }} />\r\n            </div>\r\n          </div>\r\n\r\n          <div className='chart'>\r\n            {optimizationPresets ?\r\n              <div className='section'>\r\n                {loadingPreset ?\r\n                  <h3>Currently optimizing for {optimizationPresets[loadingPreset].label}......</h3>\r\n                  : <h3>Optimization result for {optimizationPresets[selectedPreset].label}</h3>\r\n                }\r\n                <div className='legend'>\r\n                  <div className='item'>\r\n                    <div style={{ width: '14px', height: '14px', background: optimizationPresets[loadingPreset ? loadingPreset : selectedPreset].color, marginRight: '5px', borderRadius: '50%' }}></div>\r\n                    <div>{optimizationPresets[loadingPreset ? loadingPreset : selectedPreset].label}</div>\r\n                  </div>\r\n                  <div className='item'>\r\n                    <div style={{ width: '14px', height: '14px', background: '#cccccc', marginRight: '5px', borderRadius: '50%' }}></div>\r\n                    <div>Baseline</div>\r\n                  </div>\r\n                  { len(optimizationPresets[loadingPreset ? loadingPreset : selectedPreset].optimizer.results.at(-1)?.inp?.tasks || {}) <= 400 ?\r\n                    <div className='item'>\r\n                      <div style={{ width: '14px', height: '14px', background: '#e61717', marginRight: '5px', borderRadius: '50%' }}></div>\r\n                      <div>Critical Path</div>\r\n                    </div>\r\n                    : <></>\r\n                  }\r\n                </div>\r\n                {loadingPreset ?\r\n                  <TaskPlot\r\n                    tasks={optimizationPresets[loadingPreset].optimizer.results.at(-1)?.inp.tasks || []}\r\n                    width='550'\r\n                    height='300'\r\n                    color={optimizationPresets[loadingPreset].color}\r\n                    baselineTasks={optimizer.baseline_result?.inp.tasks}\r\n                    title='Tasks (Overview)' />\r\n                  : <TaskPlot\r\n                    tasks={optimizationPresets[selectedPreset].optimizer.results.at(selectedResultIndex)?.inp.tasks || []}\r\n                    width='550'\r\n                    height='300'\r\n                    color={optimizationPresets[selectedPreset].color}\r\n                    baselineTasks={optimizer.baseline_result?.inp.tasks}\r\n                    title='Tasks (Overview)' />\r\n                }\r\n              </div>\r\n              : null\r\n            }\r\n            <div className='section'>\r\n              <h3>Optimization Presets</h3>\r\n              <p>These available presets are pre-configured settings that are designed to deliver the best performance or quality for each individual specific use case.</p>\r\n              <p>Please select from one of the following options to generate your optimized report: </p>\r\n              <FormControl component='fieldset'>\r\n                <RadioGroup value={selectedPreset} onChange={(e) => {\r\n                  handleSelectPreset(e.target.value)\r\n                  handleSelectResultIndex(optimizationPresets[e.target.value].optimizer.results.length - 1)\r\n                }}>\r\n                  {Object.keys(optimizationPresets).map((o) => {\r\n                    return <div key={o} className='row'>\r\n                      <FormControlLabel disabled={optimizationPresets[o]?.optimizer?.results?.length === 0} value={o} control={<Radio />} label={optimizationPresets[o].label} />\r\n                      <Tooltip title={<div style={{ fontSize: '13px', fontFamily: 'Inter' }}>{optimizationPresets[o].description}</div>}><InfoIcon /></Tooltip>\r\n                    </div>\r\n                  })}\r\n                </RadioGroup>\r\n              </FormControl>\r\n              <div className='row'>\r\n                <div />\r\n                <PrimaryButton variant='contained' onClick={goNext}>\r\n                  View Optimized Summary\r\n                </PrimaryButton>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </OptimizationCharts > : ''\r\n    }\r\n  </OptimizationContainer >\r\n}","import styled from 'styled-components'\r\nimport { ToggleButtonGroup } from '@mui/material'\r\n\r\nexport const OptimizationContainer = styled.div`\r\n  width: 100%;\r\n  .summary {\r\n    width: 100%;\r\n    display: inline-flex;\r\n    justify-content: space-between;\r\n    background: #fbfbfb;\r\n    margin: 0 0 30px;\r\n    .stats {\r\n      padding: 25px;\r\n      width: 20%;\r\n      display: flex;\r\n      flex-direction: column;\r\n      position: relative;\r\n      &:last-child {\r\n        &:after {\r\n          width: 0px;\r\n        }\r\n      }\r\n      &:after {\r\n        content: '';\r\n        height: 65px;\r\n        width: 1px;\r\n        background: #eeeeee;\r\n        position: absolute;\r\n        right: 0;\r\n        top: calc(50% - 32px);\r\n      }\r\n      .title {\r\n        display: flex;\r\n        align-items: center;\r\n        svg {\r\n          margin-left: 5px;\r\n          width: 18px;\r\n        }\r\n      }\r\n      .figure {\r\n        display: inline-flex;\r\n        margin: 16px 0;\r\n        align-items: baseline;\r\n        .numbers {\r\n          font-family: \"Lato\", sans-serif;\r\n          font-size: 40px;\r\n          color: #000000;\r\n          font-weight: 700;\r\n          margin-right: 10px;\r\n        }\r\n        .baseline-stats {\r\n            font-family: \"Lato\", sans-serif;\r\n            font-size: 28px;\r\n            color: #999999;\r\n            font-weight: 700;\r\n         }\r\n      }\r\n      .badge {\r\n          font-size: 12px;\r\n          font-weight: 700;\r\n          border-radius: 8px;\r\n          font-family: \"Lato\";\r\n          width: 60px;\r\n          display: flex;\r\n          align-items: center;\r\n          justify-content: center;\r\n          background: #f2f2f2;\r\n          svg {\r\n            margin-right: 5px;\r\n          }\r\n          &.plus {\r\n            background: #e2f5e2;\r\n            color: #499249;\r\n          }\r\n          &.minus {\r\n            background: #feeaea;\r\n            color: #ff4d4d;\r\n          }\r\n        }\r\n    }\r\n  }\r\n`\r\n\r\nexport const OptimizationCharts = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n  margin-bottom: 20px;\r\n  width: 100%;\r\n  /* background: #ffffff;\r\n  padding: 30px 20px; */\r\n  box-sizing: border-box;\r\n  &.multi-charts {\r\n    flex-wrap: wrap;\r\n    .div {\r\n    flex: 1 0 45%;\r\n      /* width: 49%; */\r\n      &:first-child {\r\n        flex: 0 1 100%;\r\n      }\r\n    }\r\n  }\r\n  &.full-charts {\r\n    display: block !important;\r\n    margin-bottom: 20px;\r\n  }\r\n  .chart {\r\n    margin-bottom: 20px;\r\n    background: #ffffff;\r\n    padding: 20px;\r\n    width: 46%;\r\n  }\r\n  /* .chart {\r\n    width: 100%;\r\n  } */\r\n`\r\n\r\nexport const ToggleGroup = styled(ToggleButtonGroup)`\r\n  margin: 15px 0 10px;\r\n  button {\r\n    width: 50%;\r\n  }\r\n`","import React, { useState, useEffect, useRef, useReducer } from 'react'\r\nimport * as d3 from 'd3'\r\nimport { ToggleButton } from '@mui/material'\r\n\r\nimport { ToggleGroup } from '../styled'\r\nimport { limitString } from '../../../../utils/format'\r\n\r\nimport { init_d3 } from '../../../../utils/plot'\r\nimport { plot_color_palette } from '../../../../utils/color'\r\nimport { ms_per_day, len, down_sample } from '../../../../mods/a_utils'\r\n\r\nexport default function CombinedResourcePlot({\r\n  optimizer,\r\n  width = 560,\r\n  height = 500,\r\n  keep = 1000,\r\n}) {\r\n  const ref = useRef()\r\n  const baseline_result = optimizer.baseline_result\r\n  const optimized_result = optimizer.results.at(-1)\r\n  const combined_dist = optimized_result.rsrc_dist\r\n  let resources = optimized_result.inp.rsrcs\r\n\r\n  const [showResourcePlot, setShowResourcePlot] = useState('optimized')\r\n  const [_, forceUpdate] = useReducer((x) => x + 1, 0)\r\n\r\n  useEffect(() => {\r\n    if (!combined_dist) return\r\n\r\n    if (showResourcePlot === 'optimized')\r\n      resources = optimized_result.inp.rsrcs\r\n    else if (showResourcePlot === 'baseline')\r\n      resources = baseline_result.inp.rsrcs\r\n\r\n    const data = down_sample(Object.entries(combined_dist), keep)\r\n    const color = d3.scaleOrdinal(d3.schemeCategory10)\r\n\r\n    const x_optimized_domain = d3.extent(Object.keys(combined_dist))\r\n    const x_baseline_domain = d3.extent(Object.keys(baseline_result?.rsrc_dist))\r\n    const x_domain = [\r\n      Math.min(x_optimized_domain[0], x_baseline_domain[0]),\r\n      Math.max(x_optimized_domain[1], x_baseline_domain[1]),\r\n    ]\r\n\r\n    const y_optimized_values = Object.values(optimized_result.inp.rsrcs).map((r) => {\r\n      return Object.values(r.dist)\r\n    })\r\n    const y_optimized_domain = d3.extent(y_optimized_values.flat())\r\n    const y_baseline_values = Object.values(baseline_result.inp.rsrcs).map((r) => {\r\n      return Object.values(r.dist)\r\n    })\r\n    const y_baseline_domain = d3.extent(y_baseline_values.flat())\r\n    const y_domain = [\r\n      Math.min(y_optimized_domain[0], y_baseline_domain[0]),\r\n      Math.max(y_optimized_domain[1], y_baseline_domain[1]),\r\n    ]\r\n\r\n    const { svg, x_scale, y_scale } = init_d3({\r\n      x_domain,\r\n      y_domain,\r\n      width,\r\n      height,\r\n      ref,\r\n      // x_label: 'time',\r\n      // y_label: 'units',\r\n      x_type: d3.scaleUtc,\r\n      y_type: d3.scaleLinear,\r\n    })\r\n\r\n    const colors = ['#f7dc5b98', '#82B5C798', '#939ce398', '#C2876D98', '#AABB5D98', '#db793098', '#099A4D98', '#f07e9398']\r\n\r\n    let x = 0\r\n    for (const r in resources) {\r\n      const rect = svg.append('g')\r\n\r\n      rect\r\n        .selectAll('rect')\r\n        .data(Object.entries(resources[r].dist))\r\n        .join('rect')\r\n        .attr('x', (d) => x_scale(d[0]))\r\n        .attr('width', (d) => x_scale(ms_per_day) - x_scale(0))\r\n        .attr('y', (d) => y_scale(d[1]))\r\n        .attr('height', (d) => y_scale(y_domain[0]) - y_scale(d[1]))\r\n        .attr('fill', (d, i) => {\r\n          if (resources[r].show_in_plot && resources[r].type === 'Labor')\r\n            return plot_color_palette.ResourcePlot.allResources[x % plot_color_palette.ResourcePlot.allResources.length]\r\n          else\r\n            return 'none'\r\n        })\r\n      x++\r\n    }\r\n\r\n  }, [combined_dist, showResourcePlot, _])\r\n\r\n  function toggleSelectResource(r) {\r\n    baseline_result.inp.rsrcs[r].show_in_plot = !baseline_result.inp.rsrcs[r].show_in_plot\r\n    optimized_result.inp.rsrcs[r].show_in_plot = !optimized_result.inp.rsrcs[r].show_in_plot\r\n    forceUpdate()\r\n  }\r\n\r\n  if (!combined_dist) return null\r\n  const msg =\r\n    len(combined_dist) > keep\r\n      ? `(showing ${keep}/${len(combined_dist)} only due to limited pixels)`\r\n      : ''\r\n  return (\r\n    <>\r\n      <ToggleGroup\r\n        className='row'\r\n        value={showResourcePlot}\r\n        exclusive\r\n      >\r\n        <ToggleButton value='optimized' onClick={() => setShowResourcePlot('optimized')}>\r\n          Optimized\r\n        </ToggleButton>\r\n        <ToggleButton value='baseline' onClick={() => setShowResourcePlot('baseline')}>\r\n          Baseline\r\n        </ToggleButton>\r\n      </ToggleGroup>\r\n\r\n      <div className='legend'>\r\n        {Object.values(resources).map((r, i) => {\r\n          if (r.type === 'Labor')\r\n            return <div key={r + ' ' + i} className=\"item resources\" style={{ opacity: resources[r.id]?.show_in_plot ? '100%' : '50%', cursor: 'pointer', }} onClick={(e, i) => { toggleSelectResource(r.id) }}>\r\n              <div style={{ width: '14px', height: '14px', background: plot_color_palette.ResourcePlot.allResources[i % plot_color_palette.ResourcePlot.allResources.length], marginRight: '5px', borderRadius: '50%' }}></div>\r\n              <div>{limitString(r.name, 20)}</div>\r\n            </div>\r\n        })}\r\n      </div>\r\n      {/* <Title>{title}</Title> */}\r\n      <>{msg}</>\r\n      <svg ref={ref}></svg>\r\n    </>\r\n  )\r\n}","import React from 'react'\r\n\r\nimport TaskPlot from './components/TaskPlot'\r\nimport CombinedResourcePlot from './components/CombinedResourcePlot'\r\n\r\nimport { Tooltip } from '@mui/material'\r\nimport { PrimaryButton, SecondaryButton } from 'src/styled'\r\n\r\nimport { OptimizationContainer, OptimizationCharts } from './styled'\r\nimport { len } from '../../../mods/a_utils'\r\n\r\nimport InfoIcon from '@mui/icons-material/Info'\r\n\r\nconst calculatePercentage = (optimized, baseline) => {\r\n  const diff = (optimized - baseline)\r\n  const percentage = ((diff / baseline) * 100)\r\n  const checkPositive = Math.sign(percentage)\r\n  if (checkPositive === 1) {\r\n    return <span className='badge minus'>{(Math.round(percentage))}%</span>\r\n  }\r\n  else if (checkPositive === -1) {\r\n    return <span className='badge plus'>{(Math.abs(Math.round(percentage)))}%</span>\r\n  }\r\n  else { return <span className='badge'>{(Math.round(percentage))}%</span> }\r\n}\r\n\r\nexport default function OptimizedSummary({ optimizationPresets, optimizer, selectedPreset, selectedResultIndex, goPrev, goNext }) {\r\n  const loadingPreset = Object.keys(optimizationPresets).filter((o) => {\r\n    return optimizationPresets[o]?.optimizer?.optimizing\r\n  }).map((o) => { return o })[0]\r\n  return <OptimizationContainer>\r\n    <h2><span style={{ textTransform: 'capitalize' }}>{selectedPreset}</span> Optimized Summary </h2>\r\n    <div className='summary'>\r\n      <div className='stats'>\r\n        <div className='title'>Project Duration (days)\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Math.round(optimizer?.results?.at(selectedResultIndex)?.drtn_day)} </div>\r\n          <div className='baseline-stats'>{Math.round(optimizer?.baseline_result?.drtn_day)}</div>\r\n        </div>\r\n        {calculatePercentage(optimizer?.results?.at(selectedResultIndex)?.drtn_day, optimizer?.baseline_result?.drtn_day)}\r\n      </div>\r\n      <div className='stats'>\r\n        <div className='title'>Resources\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Math.round(optimizer?.results?.at(selectedResultIndex)?.rsrc_max)} </div>\r\n          <div className='baseline-stats'>{Math.round(optimizer?.baseline_result?.rsrc_max)} </div>\r\n        </div>\r\n        {calculatePercentage(optimizer?.results?.at(selectedResultIndex)?.rsrc_max, optimizer?.baseline_result?.rsrc_max)}\r\n      </div>\r\n      <div className='stats'>\r\n        <div className='title'>Tasks <Tooltip title='Tasks that were changed'><InfoIcon /></Tooltip>\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Math.round(optimizer?.results?.at(selectedResultIndex)?.num_changed)} </div>\r\n          <div className='baseline-stats'>{Math.round(Object.values(optimizer?.baseline_result?.inp?.tasks).length)} </div>\r\n        </div>\r\n        {calculatePercentage(Math.round(Object.values(optimizer?.baseline_result?.inp?.tasks).length) - optimizer?.results?.at(selectedResultIndex)?.num_changed, Object.values(optimizer?.baseline_result?.inp?.tasks).length)}\r\n      </div>\r\n      <div className='stats'>\r\n        <div className='title'>Tasks on Critical Path\r\n        </div>\r\n        <div className='figure'>\r\n          <div className='numbers'>{Math.round(optimizer?.results[optimizer?.results?.length - 1]?.num_crt)} </div>\r\n          <div className='baseline-stats'>{Math.round(optimizer?.baseline_result?.num_crt)}  </div>\r\n        </div>\r\n        {calculatePercentage(optimizer?.results.at(selectedResultIndex)?.num_crt, optimizer?.baseline_result?.num_crt)}\r\n      </div>\r\n    </div>\r\n    {optimizer?.results?.length > 0 ?\r\n      <OptimizationCharts>\r\n        <div className='chart'>\r\n          <h3>Tasks (Overview)</h3>\r\n          <span className=\"subtitle\">Overview of all tasks over time</span>\r\n          <div className='legend'>\r\n            <div className=\"item\">\r\n              <div style={{ width: '14px', height: '14px', background: '#82B5C7', marginRight: '5px', borderRadius: '50%' }}></div>\r\n              <div>Optimized</div>\r\n            </div>\r\n            <div className=\"item\">\r\n              <div style={{ width: '14px', height: '14px', background: '#cccccc', marginRight: '5px', borderRadius: '50%' }}></div>\r\n              <div>Baseline</div>\r\n            </div>\r\n            { len(optimizer.results.at(-1)?.inp?.tasks || {}) <= 400 ?\r\n              <div className=\"item\">\r\n                <div style={{ width: '14px', height: '14px', background: '#e61717', marginRight: '5px', borderRadius: '50%' }}></div>\r\n                <div>Critical Path</div>\r\n              </div>\r\n              : <></>\r\n            }\r\n          </div>\r\n          {optimizer.results[optimizer.results.length - 1]?.inp?.tasks ?\r\n            <TaskPlot\r\n              height=\"600\"\r\n              tasks={optimizer.results?.at(selectedResultIndex)?.inp.tasks}\r\n              baselineTasks={optimizer.baseline_result?.inp.tasks}\r\n              title='Tasks (Overview)' />\r\n            : 'No data'\r\n          }\r\n        </div>\r\n        <div className='chart'>\r\n          <div className='row'>\r\n            <div>\r\n              <h3>Combined Resources</h3>\r\n              <span className=\"subtitle\">Total utilization of multiple resources over time</span>\r\n            </div>\r\n          </div>\r\n          {optimizer.results?.at(selectedResultIndex)?.rsrc_dist ?\r\n            <CombinedResourcePlot\r\n              optimizer={optimizer}\r\n              title='Combined Resources' />\r\n            : 'No data'\r\n          }\r\n        </div>\r\n      </OptimizationCharts> : ''}\r\n    <div className='row'>\r\n      <SecondaryButton variant='contained' onClick={goPrev}>\r\n        Back\r\n      </SecondaryButton>\r\n      <PrimaryButton variant='contained' onClick={goNext}>\r\n        View Detailed Report\r\n      </PrimaryButton>\r\n    </div>\r\n  </OptimizationContainer>\r\n}","import styled from 'styled-components'\r\n\r\nimport Table from '@mui/material/Table'\r\nimport TableHead from '@mui/material/TableHead'\r\n\r\n\r\nexport const TableContent = styled.div`\r\n  background: white;\r\n  margin-bottom: 40px;\r\n  padding: 20px;\r\n  .circle {\r\n    width: 14px;\r\n    height: 14px;\r\n    border-radius: 50%;\r\n    background-color: #dddddd;\r\n    margin: 0 auto;\r\n    &.critical {\r\n      background-color: red;\r\n    }\r\n  }\r\n`\r\n\r\nexport const ReportTable = styled(Table)`\r\n  border: 1px solid #eeeeee;\r\n  border-radius: 6px;\r\n  thead {\r\n    tr {\r\n      background: #f2f2f2;\r\n      > th {\r\n        font-weight: bold;\r\n        color: #222222;\r\n      }\r\n    }\r\n  }\r\n  .MuiTableSortLabel-icon {\r\n    opacity: 1;\r\n  }\r\n  \r\n`\r\nexport const ReportTableHead = styled(TableHead)``","import React, { useEffect, useRef } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\nimport { init_d3 } from '../../../../utils/plot'\r\nimport { ms_per_day, len, down_sample } from '../../../../mods/a_utils'\r\n\r\nexport default function ResourcePlot({\r\n  dist,\r\n  color,\r\n  width = 560,\r\n  height = 500,\r\n  keep = 1000,\r\n}) {\r\n  const ref = useRef()\r\n  useEffect(() => {\r\n    if (!dist) return\r\n\r\n    const data = down_sample(Object.entries(dist), keep)\r\n    // const color = d3.scaleOrdinal(d3.schemeCategory10)\r\n\r\n    const x_domain = d3.extent(Object.keys(dist))\r\n    // console.log('Before', x_domain)\r\n    const y_domain = d3.extent(Object.values(dist))\r\n    // const scale = d3.scaleLinear(x_domain, [40,width-40])\r\n    // x_domain[1] = parseFloat(x_domain[1]) + 10000*(scale(ms_per_day) - scale(0))\r\n    // console.log('After', x_domain, scale(ms_per_day) - scale(0))\r\n\r\n    const { svg, x_scale, y_scale } = init_d3({\r\n      x_domain,\r\n      y_domain,\r\n      width,\r\n      height,\r\n      ref,\r\n      x_label: 'time',\r\n      y_label: 'units',\r\n      x_type: d3.scaleUtc,\r\n      y_type: d3.scaleLinear,\r\n    })\r\n\r\n    const rect = svg.append('g')\r\n\r\n    rect\r\n      .selectAll('rect')\r\n      .data(data)\r\n      .join('rect')\r\n      .attr('x', (d) => x_scale(d[0]))\r\n      .attr('width', x_scale(ms_per_day) - x_scale(0))\r\n      .attr('y', (d) => y_scale(d[1]))\r\n      .attr('height', (d) => y_scale(y_domain[0]) - y_scale(d[1]))\r\n      .attr('fill', color)\r\n    // .style('fill', (d) => color(d[0]))\r\n\r\n    // let legend = svg.append('g')\r\n    //   .attr('transform', 'translate(0, 20)')\r\n\r\n    // legend.selectAll('rect')\r\n    //   .data(data)\r\n    //   .join('rect')\r\n    //   .attr('x', 0)\r\n    //   .attr('y', (d, i) => i * 20)\r\n    //   .attr('width', 19)\r\n    //   .attr('height', 18)\r\n    //   .style('fill', (d) => color(d[0]))\r\n\r\n    // legend.selectAll('text')\r\n    //   .data(data)\r\n    //   .join('text')\r\n    //   .attr('x', 22)\r\n    //   .attr('y', (d, i) => i * 20 + 14)\r\n    //   .text(d => {\r\n    //     return data.name\r\n    //   })\r\n\r\n  }, [dist])\r\n\r\n  if (!dist) return null\r\n  const msg =\r\n    len(dist) > keep\r\n      ? `(showing ${keep}/${len(dist)} only due to limited pixels)`\r\n      : ''\r\n  return (\r\n    <>\r\n      {/* <Title>{title}</Title> */}\r\n      <>{msg}</>\r\n      <svg ref={ref}></svg>\r\n    </>\r\n  )\r\n}","import React, { useEffect, useRef } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\nimport { init_d3, domains_with_margin } from '../../../../utils/plot'\r\nimport { len } from '../../../../mods/a_utils'\r\n\r\nexport default function LossPlot({\r\n  results,\r\n  name,\r\n  x_label, y_label,\r\n  width = 550,\r\n  height = 400,\r\n  keep = 1000,\r\n  onClick,\r\n  selectedResultIndex\r\n}) {\r\n  const ref = useRef()\r\n\r\n  useEffect(() => {\r\n    if (!results?.length) return null\r\n\r\n    const data = results\r\n    data.forEach((d, i) => d.idx = i)\r\n\r\n    const domains = domains_with_margin(d3.extent(data.map(d => d.drtn_day)), d3.extent(data.map(d => d[name])), 0.15, 0.15)\r\n\r\n    const { svg, x_scale, y_scale } = init_d3({\r\n      // margin: 50,\r\n      x_domain: domains.x_domain,\r\n      y_domain: domains.y_domain,\r\n      width, height, ref,\r\n      x_label: x_label,\r\n      y_label: y_label,\r\n      x_type: d3.scaleLinear,\r\n      y_type: d3.scaleLinear,\r\n    })\r\n\r\n    const circle = svg.append('g')\r\n    circle.selectAll('circle').data(data).join('circle')\r\n      .attr('cx', d => x_scale(d.drtn_day))\r\n      .attr('cy', d => y_scale(d[name]))\r\n      .attr('r', (d, i) => i === selectedResultIndex ? 6 : 3)\r\n      .style('cursor', d => d.option === 'baseline' ? 'auto' : 'pointer')\r\n      .attr('fill', (d, i) =>\r\n        d.loss_task + d.loss_rsrc + d.loss_task_rsrc > 0\r\n          ? i === selectedResultIndex ? '#db4444' : '#cccccc'\r\n          : i === selectedResultIndex ? '#db4444' : '#00beae'\r\n      )\r\n      .on('click', (e, d) => onClick(d.idx))\r\n  }, [results, selectedResultIndex])\r\n\r\n  if (!(results && len(results))) return null\r\n  const msg =\r\n    len(results) > keep\r\n      ? `(showing ${keep}/${len(results)} only due to limited pixels)`\r\n      : ''\r\n\r\n  return (\r\n    <>\r\n      <div className='legend'>\r\n        <div className='item'>\r\n          <div style={{ width: '14px', height: '14px', background: '#e61717', marginRight: '5px', borderRadius: '50%' }}></div>\r\n          <div>Step Selected</div>\r\n        </div>\r\n        <div className='item'>\r\n          <div style={{ width: '14px', height: '14px', background: '#00beae', marginRight: '5px', borderRadius: '50%' }}></div>\r\n          <div>Constraints Satisfied</div>\r\n        </div>\r\n        <div className='item'>\r\n          <div style={{ width: '14px', height: '14px', background: '#cccccc', marginRight: '5px', borderRadius: '50%' }}></div>\r\n          <div>Constraints Violated</div>\r\n        </div>\r\n      </div>\r\n      <>{msg}</>\r\n      <svg ref={ref}></svg>\r\n    </>\r\n  )\r\n}","import React, { useEffect, useRef } from 'react'\r\nimport * as d3 from 'd3'\r\n\r\nimport { init_d3, domains_with_margin } from '../../../../utils/plot'\r\nimport { len } from '../../../../mods/a_utils'\r\n\r\nexport default function StepsPlot({\r\n  results,\r\n  name, x_axis,\r\n  x_label, y_label,\r\n  width = 550,\r\n  height = 400,\r\n  keep = 1000,\r\n  onClick,\r\n  selectedResultIndex\r\n}) {\r\n  const ref = useRef()\r\n\r\n  useEffect(() => {\r\n    if (!results?.length) return null\r\n\r\n    const data = results\r\n    data.forEach((d, i) => d.idx = i)\r\n\r\n    const domains = domains_with_margin(d3.extent([0, data.length]), d3.extent(data.map(d => d[name])), 0, 0)\r\n\r\n    const { svg, x_scale, y_scale } = init_d3({\r\n      margin: 50,\r\n      x_domain: domains.x_domain,\r\n      y_domain: domains.y_domain,\r\n      width, height, ref,\r\n      x_label: x_label ? x_label : 'Optimization steps',\r\n      y_label,\r\n      x_type: d3.scaleLinear,\r\n      y_type: d3.scaleLinear,\r\n    })\r\n\r\n    const circle = svg.append('g')\r\n    circle.selectAll('circle').data(data).join('circle')\r\n      .attr('cx', (d, i) => x_scale(d.idx))\r\n      .attr('cy', d => y_scale(d[name]))\r\n      .attr('r', (d, i) => i === selectedResultIndex ? 6 : 3)\r\n      .style('cursor', d => d.option === 'baseline' ? 'auto' : 'pointer')\r\n      .attr('fill', (d, i) =>\r\n        d.loss_task + d.loss_rsrc + d.loss_task_rsrc > 0\r\n          ? i === selectedResultIndex ? '#db4444' : '#cccccc'\r\n          : i === selectedResultIndex ? '#db4444' : '#00beae'\r\n      )\r\n      .on('click', (e, d) => { onClick(d.idx) })\r\n  }, [results, selectedResultIndex])\r\n\r\n  if (!(results && len(results))) return null\r\n  const msg =\r\n    len(results) > keep\r\n      ? `(showing ${keep}/${len(results)} only due to limited pixels)`\r\n      : ''\r\n\r\n  return (\r\n    <>\r\n      <div className='legend'>\r\n        <div className='item'>\r\n          <div style={{ width: '14px', height: '14px', background: '#e61717', marginRight: '5px', borderRadius: '50%' }}></div>\r\n          <div>Step Selected</div>\r\n        </div>\r\n        <div className='item'>\r\n          <div style={{ width: '14px', height: '14px', background: '#00beae', marginRight: '5px', borderRadius: '50%' }}></div>\r\n          <div>Constraints Satisfied</div>\r\n        </div>\r\n        <div className='item'>\r\n          <div style={{ width: '14px', height: '14px', background: '#cccccc', marginRight: '5px', borderRadius: '50%' }}></div>\r\n          <div>Constraints Violated</div>\r\n        </div>\r\n      </div>\r\n      <>{msg}</>\r\n      <svg ref={ref}></svg>\r\n    </>\r\n  )\r\n}","import React from 'react'\r\n\r\nimport ResourcePlot from '../../OptimizedSummary/components/ResourcePlot'\r\nimport LossPlot from '../components/LossPlot'\r\nimport StepsPlot from '../components/StepsPlot'\r\nimport { plot_color_palette } from '../../../../utils/color'\r\n\r\nimport { OptimizationCharts, OptimizationContainer } from '../../OptimizedSummary/styled'\r\n\r\nexport default function RawData({ results, loss, selectedResultIndex, handleChooseResult }) {\r\n\r\n  return <>\r\n    <OptimizationContainer>\r\n      <OptimizationCharts className='multi-charts'>\r\n        <div className='row'><h2>Optimization Iteration Charts</h2></div>\r\n        <div className='chart'>\r\n          <h4>Project Duration</h4>\r\n          <StepsPlot results={results} name='drtn_day' x_axis x_label='Optimization steps' y_label='Duration (days)' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n\r\n        <div className='chart'>\r\n          <h4>Maximum Labour Resources</h4>\r\n          <StepsPlot results={results} name='rsrc_max' x_axis x_label='Optimization steps' y_label='Maximum Resources' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n\r\n        <div className='chart'>\r\n          <h4>Standard Deviation Labour Resources</h4>\r\n          <StepsPlot results={results} name='rsrc_std' x_axis x_label='Optimization steps' y_label='Standard Deviation' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n\r\n        <div className='chart'>\r\n          <h4>Number of Changed Tasks</h4>\r\n          <StepsPlot results={results} name='num_changed' x_axis x_label='Optimization steps' y_label='Number of changed task' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n        <div className='chart'>\r\n          <h4>Critical Path Tasks</h4>\r\n          <StepsPlot results={results} name='num_crt' x_axis x_label='Optimization steps' y_label='Number of tasks' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n        <div className='chart'>\r\n          <h4>Loss Function (Dimensionless)</h4>\r\n          <StepsPlot results={results} name='loss_sum' x_axis x_label='Optimization steps' y_label='Loss function' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n      </OptimizationCharts>\r\n      <OptimizationCharts className='multi-charts'>\r\n        <div className='row'><h2>Resources Plots</h2></div>\r\n        {Object.values(results[selectedResultIndex]?.inp.rsrcs || {}).map((r,i) => (\r\n          <div key={r.id} className='chart'>\r\n            <h4>{`(${r.type}) ${r.name}`}</h4>\r\n            <ResourcePlot dist={r.dist} title={`(${r.type}) ${r.name}`} color={plot_color_palette.ResourcePlot.allResources[i % plot_color_palette.ResourcePlot.allResources.length]}/>\r\n          </div>\r\n        ))}\r\n      </OptimizationCharts>\r\n      <OptimizationCharts className='multi-charts'>\r\n        <div className='row'><h2>Loss Function Charts</h2></div>\r\n        {/* <p>Loss functions in construction schedules are mathematical models used to determine the cost or schedule impact of deviations from the project plan. These functions help to identify potential project risks and allow for proactive measures to be taken to minimize the impact of delays and budget overruns. Common examples include cost-impact and schedule-impact functions.</p> */}\r\n        <div className='chart'>\r\n          <h4>Loss Function: Tasks Resources</h4>\r\n          <LossPlot results={results} name='loss_task_rsrc' x_label='Duration (days)' y_label='Loss function: task resources' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n        <div className='chart'>\r\n          <h4>Loss Function: Sum</h4>\r\n          <LossPlot results={results} name='loss_sum' x_label='Duration (days)' y_label='Loss function: sum' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n        <div className='chart'>\r\n          <h4>Loss Function: Resources</h4>\r\n          <LossPlot results={results} name='loss_rsrc' x_label='Duration (days)' y_label='Loss function: resources' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n        <div className='chart'>\r\n          <h4>Loss Function: Tasks</h4>\r\n          <LossPlot results={results} name='loss_task' x_label='Duration (days)' y_label='Loss function: task' onClick={handleChooseResult} selectedResultIndex={selectedResultIndex} />\r\n        </div>\r\n      </OptimizationCharts>\r\n    </OptimizationContainer>\r\n  </>\r\n}","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Box from '@mui/material/Box'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TablePagination from '@mui/material/TablePagination'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport TableSortLabel from '@mui/material/TableSortLabel'\r\nimport { visuallyHidden } from '@mui/utils'\r\n\r\nimport { ReportTable } from '../styled'\r\n\r\nfunction createData(critical, name, id, old_duration, new_duration, ratio) {\r\n  return {\r\n    critical,\r\n    name,\r\n    id,\r\n    old_duration,\r\n    new_duration,\r\n    ratio\r\n  }\r\n}\r\n\r\nconst headCells = [\r\n  {\r\n    id: 'critical',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Critical',\r\n  },\r\n  {\r\n    id: 'id',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'ID',\r\n  },\r\n  {\r\n    id: 'name',\r\n    numeric: false,\r\n    disablePadding: true,\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'old_duration',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Duration (Baseline)',\r\n  },\r\n  {\r\n    id: 'new_duration',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Duration (New)',\r\n  },\r\n  {\r\n    id: 'ratio',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Ratio',\r\n  },\r\n]\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1\r\n  }\r\n  return 0\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy)\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index])\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0])\r\n    if (order !== 0) {\r\n      return order\r\n    }\r\n    return a[1] - b[1]\r\n  })\r\n  return stabilizedThis.map((el) => el[0])\r\n}\r\nfunction EnhancedTableHead(props) {\r\n  const { order, orderBy, onRequestSort } = props\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property)\r\n  }\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <Box component='span' sx={visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </Box>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  )\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n}\r\n\r\nexport default function ChangedTaskstable({ result, ariaLabel }) {\r\n  const [order, setOrder] = useState('asc')\r\n  const [orderBy, setOrderBy] = useState('dsc')\r\n  const [selected, setSelected] = useState([])\r\n  const [page, setPage] = useState(0)\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc'\r\n    setOrder(isAsc ? 'desc' : 'asc')\r\n    setOrderBy(property)\r\n  }\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelected = rows.map((n) => n.name)\r\n      setSelected(newSelected)\r\n      return\r\n    }\r\n    setSelected([])\r\n  }\r\n\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name)\r\n    let newSelected = []\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name)\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1))\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1))\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      )\r\n    }\r\n\r\n    setSelected(newSelected)\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage)\r\n  }\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10))\r\n    setPage(0)\r\n  }\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1\r\n\r\n  const changed_tasks = Object.keys(result?.inp?.tasks).filter(t => result?.inp?.tasks[t].changed)\r\n\r\n  const rows =\r\n    changed_tasks.map((task) => {\r\n      const { critical, id, task_code, name, drtn_hr, drtn_hr_2 } = result?.inp?.tasks[task]\r\n      // const calcRatio = (drtn_hr - drtn_hr_2) / 100\r\n      const calcRatio = (drtn_hr_2 / drtn_hr).toFixed(2)\r\n      return createData(critical, name, task_code ? task_code : id, drtn_hr, drtn_hr_2, calcRatio)\r\n    })\r\n\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0\r\n\r\n  return <>\r\n    <TableContainer>\r\n      <ReportTable\r\n        sx={{ minWidth: 750 }}\r\n        aria-labelledby={ariaLabel}\r\n        size='medium'\r\n      >\r\n        <EnhancedTableHead\r\n          numSelected={selected.length}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onSelectAllClick={handleSelectAllClick}\r\n          onRequestSort={handleRequestSort}\r\n          rowCount={rows.length}\r\n        />\r\n        <TableBody>\r\n          {stableSort(rows, getComparator(order, orderBy))\r\n            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n            .map((row, index) => {\r\n              const isItemSelected = isSelected(row.name)\r\n              const labelId = `enhanced-table-checkbox-${index}`\r\n              return (<TableRow\r\n                hover\r\n                onClick={(event) => handleClick(event, row.name)}\r\n                role='checkbox'\r\n                aria-checked={isItemSelected}\r\n                tabIndex={-1}\r\n                key={row.id}\r\n                selected={isItemSelected}\r\n              >\r\n                <TableCell width=\"100\" sortDirection='desc' padding='checkbox' align='center'>\r\n                  <div className={`circle ${row.critical ? 'critical' : ''}`} />\r\n                </TableCell>\r\n                <TableCell width=\"100\" align='left'>{row.id}</TableCell>\r\n                <TableCell\r\n                  component='th'\r\n                  width=\"500\"\r\n                  id={labelId}\r\n                  scope='row'\r\n                  padding='none'\r\n                  align='left'\r\n                >\r\n                  {row.name}\r\n                </TableCell>\r\n                <TableCell width=\"150\" align='right'>{row.old_duration} hours</TableCell>\r\n                <TableCell width=\"150\" align='right'>{row.new_duration} hours</TableCell>\r\n                <TableCell width=\"100\" align='right'>{row.ratio}</TableCell>\r\n              </TableRow>\r\n              )\r\n            })}\r\n          {emptyRows > 0 && (\r\n            <TableRow\r\n              style={{\r\n                height: 33 * emptyRows,\r\n              }}\r\n            >\r\n              <TableCell colSpan={6} />\r\n            </TableRow>\r\n          )}\r\n        </TableBody>\r\n      </ReportTable></TableContainer>\r\n    <TablePagination\r\n      rowsPerPageOptions={[10, 25, 50]}\r\n      component='div'\r\n      count={rows.length}\r\n      rowsPerPage={rowsPerPage}\r\n      page={page}\r\n      onPageChange={handleChangePage}\r\n      onRowsPerPageChange={handleChangeRowsPerPage}\r\n    />\r\n  </>\r\n}","\r\n\r\nimport React, { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Box from '@mui/material/Box'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TablePagination from '@mui/material/TablePagination'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport TableSortLabel from '@mui/material/TableSortLabel'\r\nimport { visuallyHidden } from '@mui/utils'\r\n\r\nimport { ReportTable } from '../styled'\r\n\r\nfunction createData(name, id, type, rng, dist, max, std) {\r\n  return {\r\n    name,\r\n    id,\r\n    type,\r\n    rng,\r\n    dist, max, std\r\n  }\r\n}\r\n\r\nconst headCells = [\r\n  {\r\n    id: 'id',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'ID',\r\n  },\r\n  {\r\n    id: 'type',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Type',\r\n  },\r\n  {\r\n    id: 'name',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Name',\r\n  },\r\n  {\r\n    id: 'rng',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Range [min, max]',\r\n    sort: false\r\n  },\r\n  {\r\n    id: 'dist',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Resource Dist.',\r\n  },\r\n  {\r\n    id: 'max',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Maximum N',\r\n  },\r\n  {\r\n    id: 'std',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Standard Deviation',\r\n  },\r\n]\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1\r\n  }\r\n  return 0\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy)\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index])\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0])\r\n    if (order !== 0) {\r\n      return order\r\n    }\r\n    return a[1] - b[1]\r\n  })\r\n  return stabilizedThis.map((el) => el[0])\r\n}\r\nfunction EnhancedTableHead(props) {\r\n  const { order, orderBy, onRequestSort } = props\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property)\r\n  }\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <Box component='span' sx={visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </Box>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  )\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n}\r\n\r\nexport default function ChangedResourcesTable({ result, ariaLabel }) {\r\n  const [order, setOrder] = useState('asc')\r\n  const [orderBy, setOrderBy] = useState('dsc')\r\n  const [selected, setSelected] = useState([])\r\n  const [page, setPage] = useState(0)\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n\r\n  const [rowsz, setRowsz] = useState([])\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc'\r\n    setOrder(isAsc ? 'desc' : 'asc')\r\n    setOrderBy(property)\r\n  }\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelected = rows.map((n) => n.name)\r\n      setSelected(newSelected)\r\n      return\r\n    }\r\n    setSelected([])\r\n  }\r\n\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name)\r\n    let newSelected = []\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name)\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1))\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1))\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      )\r\n    }\r\n\r\n    setSelected(newSelected)\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage)\r\n  }\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10))\r\n    setPage(0)\r\n  }\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1\r\n\r\n  const changed_resources = Object.keys(result?.inp?.rsrcs)\r\n\r\n  const rows =\r\n    changed_resources.map((resources) => {\r\n      const { id, name, type, rng, dist, max, std } = result?.inp?.rsrcs[resources]\r\n      return createData(name, id, type, rng, Math.round(Object.values(dist).reduce((total, current) => total + current, 0)), Math.round(max), Math.round(std))\r\n    })\r\n\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0\r\n\r\n  return <>\r\n    <TableContainer>\r\n      <ReportTable\r\n        sx={{ minWidth: 550 }}\r\n        aria-labelledby={ariaLabel}\r\n        size='medium'\r\n      >\r\n        <EnhancedTableHead\r\n          numSelected={selected.length}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onSelectAllClick={handleSelectAllClick}\r\n          onRequestSort={handleRequestSort}\r\n          rowCount={rows.length}\r\n        />\r\n        <TableBody>\r\n          {stableSort(rows, getComparator(order, orderBy))\r\n            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n            .map((row, index) => {\r\n              const isItemSelected = isSelected(row.name)\r\n              const labelId = `enhanced-table-checkbox-${index}`\r\n              return (<TableRow\r\n                hover\r\n                onClick={(event) => handleClick(event, row.name)}\r\n                role='checkbox'\r\n                aria-checked={isItemSelected}\r\n                tabIndex={-1}\r\n                key={row.id}\r\n                selected={isItemSelected}\r\n              >\r\n                <TableCell width=\"50\" align='left'>{row.id}</TableCell>\r\n                <TableCell width=\"100\">{row.type}</TableCell>\r\n                <TableCell\r\n                  component='th'\r\n                  width=\"300\"\r\n                  id={labelId}\r\n                  scope='row'\r\n                  align='left'\r\n                >\r\n                  {row.name}\r\n                </TableCell>\r\n                <TableCell width=\"170\">{JSON.stringify(row.rng)}</TableCell>\r\n                <TableCell width=\"170\" align='right'>{Math.floor(row.dist / 24)} days</TableCell>\r\n                <TableCell width=\"170\" align='right'>{row.max}</TableCell>\r\n                <TableCell width=\"170\" align='right'>{row.std}</TableCell>\r\n              </TableRow>\r\n              )\r\n            })}\r\n          {emptyRows > 0 && (\r\n            <TableRow\r\n              style={{\r\n                height: 33 * emptyRows,\r\n              }}\r\n            >\r\n              <TableCell colSpan={6} />\r\n            </TableRow>\r\n          )}\r\n        </TableBody>\r\n      </ReportTable></TableContainer>\r\n    <TablePagination\r\n      rowsPerPageOptions={[10, 25, 50]}\r\n      component='div'\r\n      count={rows.length}\r\n      rowsPerPage={rowsPerPage}\r\n      page={page}\r\n      onPageChange={handleChangePage}\r\n      onRowsPerPageChange={handleChangeRowsPerPage}\r\n    />\r\n  </>\r\n}","\r\n\r\nimport React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport Box from '@mui/material/Box'\r\nimport TableBody from '@mui/material/TableBody'\r\nimport TableCell from '@mui/material/TableCell'\r\nimport TableContainer from '@mui/material/TableContainer'\r\nimport TableHead from '@mui/material/TableHead'\r\nimport TablePagination from '@mui/material/TablePagination'\r\nimport TableRow from '@mui/material/TableRow'\r\nimport TableSortLabel from '@mui/material/TableSortLabel'\r\nimport { visuallyHidden } from '@mui/utils'\r\n\r\nimport { ReportTable } from '../styled'\r\n\r\nfunction createData(critical, id, r_id, t_id, units, units_2, units_rng, drtn_hr, drtn_hr_2, work_hr) {\r\n  return {\r\n    critical, id, r_id, t_id, units, units_2, units_rng, drtn_hr, drtn_hr_2, work_hr,\r\n  }\r\n}\r\n\r\nconst headCells = [\r\n  {\r\n    id: 'critical',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Critical',\r\n  },\r\n  {\r\n    id: 'id',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'ID',\r\n  },\r\n  {\r\n    id: 'r_id',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Resource Name',\r\n  },\r\n  {\r\n    id: 't_id',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Task Name',\r\n  },\r\n  {\r\n    id: 'units_rng',\r\n    numeric: false,\r\n    disablePadding: false,\r\n    label: 'Range [min, max]',\r\n  },\r\n  {\r\n    id: 'units',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Units (Baseline)',\r\n  },\r\n  {\r\n    id: 'units_2',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Units (Optimized)',\r\n  },\r\n  {\r\n    id: 'drtn_hr',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Duration (Baseline)',\r\n  },\r\n  {\r\n    id: 'drtn_hr_2',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Duration (Optimized)',\r\n  },\r\n  {\r\n    id: 'work_hr',\r\n    numeric: true,\r\n    disablePadding: false,\r\n    label: 'Total Work Hours',\r\n  },\r\n]\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1\r\n  }\r\n  return 0\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy)\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index])\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0])\r\n    if (order !== 0) {\r\n      return order\r\n    }\r\n    return a[1] - b[1]\r\n  })\r\n  return stabilizedThis.map((el) => el[0])\r\n}\r\nfunction EnhancedTableHead(props) {\r\n  const { order, orderBy, onRequestSort } = props\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property)\r\n  }\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <Box component='span' sx={visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </Box>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  )\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n}\r\n\r\nexport default function ChangedResourcesTasksTable({ result, ariaLabel }) {\r\n  const [order, setOrder] = useState('asc')\r\n  const [orderBy, setOrderBy] = useState('dsc')\r\n  const [selected, setSelected] = useState([])\r\n  const [page, setPage] = useState(0)\r\n  const [rowsPerPage, setRowsPerPage] = useState(10)\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc'\r\n    setOrder(isAsc ? 'desc' : 'asc')\r\n    setOrderBy(property)\r\n  }\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelected = rows.map((n) => n.name)\r\n      setSelected(newSelected)\r\n      return\r\n    }\r\n    setSelected([])\r\n  }\r\n\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name)\r\n    let newSelected = []\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name)\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1))\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1))\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      )\r\n    }\r\n\r\n    setSelected(newSelected)\r\n  }\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage)\r\n  }\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10))\r\n    setPage(0)\r\n  }\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1\r\n\r\n  const changed_tasks = Object.keys(result?.inp?.tasks).filter(t => result?.inp?.tasks[t].changed)\r\n  const changed_resources = Object.keys(result?.inp?.task_rsrcs)\r\n\r\n  const filteredResults = []\r\n\r\n  // add old and new duration\r\n\r\n  changed_resources.map((rsrc) => {\r\n    const arrayResources = result?.inp?.task_rsrcs[rsrc]\r\n    changed_tasks.map((task) => {\r\n      const mapTask = result?.inp?.tasks[task]\r\n      if (arrayResources.t_id === task) {\r\n        filteredResults.push({\r\n          drtn_hr: mapTask.drtn_hr,\r\n          drtn_hr_2: mapTask.drtn_hr_2,\r\n          r_id: arrayResources.r_id,\r\n          t_id: arrayResources.t_id,\r\n          units: arrayResources.units,\r\n          units_2: arrayResources.units_2,\r\n          units_rng: arrayResources.units_rng,\r\n          work_hr: arrayResources.work_hr,\r\n          task_code: mapTask.task_code\r\n        })\r\n      }\r\n    })\r\n  }\r\n  )\r\n\r\n  const rows = filteredResults &&\r\n    filteredResults.map((resources) => {\r\n      const { task_code, r_id, t_id, units, units_2, units_rng, drtn_hr, drtn_hr_2, work_hr } = resources\r\n      const checkCritical = (id) => {\r\n        return (Object.values(result?.crt_path).filter((item) => item === id).length > 0)\r\n      }\r\n      return createData(checkCritical(t_id), task_code ? task_code : t_id, result?.inp?.rsrcs[r_id]?.name, result?.inp?.tasks[t_id]?.name, units.toFixed(2), units_2.toFixed(2), units_rng, drtn_hr, drtn_hr_2, work_hr)\r\n    })\r\n\r\n  const emptyRows =\r\n    page > 0 ? Math.max(0, (1 + page) * rowsPerPage - rows.length) : 0\r\n\r\n  return <>\r\n    <TableContainer>\r\n      <ReportTable\r\n        sx={{ minWidth: 550 }}\r\n        aria-labelledby={ariaLabel}\r\n        size='medium'\r\n      >\r\n        <EnhancedTableHead\r\n          numSelected={selected.length}\r\n          order={order}\r\n          orderBy={orderBy}\r\n          onSelectAllClick={handleSelectAllClick}\r\n          onRequestSort={handleRequestSort}\r\n          rowCount={rows.length}\r\n        />\r\n        <TableBody>\r\n          {stableSort(rows, getComparator(order, orderBy))\r\n            .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n            .map((row, index) => {\r\n              const isItemSelected = isSelected(row.name)\r\n              const labelId = `enhanced-table-checkbox-${index}`\r\n              return (<TableRow\r\n                hover\r\n                onClick={(event) => handleClick(event, row.id)}\r\n                role='checkbox'\r\n                aria-checked={isItemSelected}\r\n                tabIndex={-1}\r\n                key={row.id + ' ' + row.r_id + ' ' + row.t_id}\r\n                selected={isItemSelected}\r\n              >\r\n                <TableCell width=\"80\" sortDirection='desc' padding='checkbox' align='center'>\r\n                  <div className={`circle ${row.critical ? 'critical' : ''}`} />\r\n                </TableCell>\r\n                <TableCell align='left'>{row.id}</TableCell>\r\n                <TableCell width=\"250\" align='left'>{row.r_id}</TableCell>\r\n                <TableCell width=\"250\" align='left'>{row.t_id}</TableCell>\r\n                <TableCell width=\"200\">{JSON.stringify(row.units_rng)}</TableCell>\r\n                <TableCell align='right'>{row.units}</TableCell>\r\n                <TableCell align='right'>{row.units_2}</TableCell>\r\n                <TableCell align='right'>{row.drtn_hr} hours</TableCell>\r\n                <TableCell align='right'>{row.drtn_hr_2} hours</TableCell>\r\n                <TableCell width=\"100\" align='right'>{row.work_hr} hours</TableCell>\r\n\r\n              </TableRow>\r\n              )\r\n            })}\r\n          {emptyRows > 0 && (\r\n            <TableRow\r\n              style={{\r\n                height: 33 * emptyRows,\r\n              }}\r\n            >\r\n              <TableCell colSpan={6} />\r\n            </TableRow>\r\n          )}\r\n        </TableBody>\r\n      </ReportTable></TableContainer>\r\n    <TablePagination\r\n      rowsPerPageOptions={[10, 25, 50]}\r\n      component='div'\r\n      count={rows.length}\r\n      rowsPerPage={rowsPerPage}\r\n      page={page}\r\n      onPageChange={handleChangePage}\r\n      onRowsPerPageChange={handleChangeRowsPerPage}\r\n    />\r\n  </>\r\n}","import React, { useState } from 'react'\r\n\r\nimport Box from '@mui/material/Box'\r\n// import FileDownloadIcon from '@mui/icons-material/FileDownload'\r\n\r\nimport { TableContent } from './styled'\r\nimport { LoadingModal, OptimizationContainer } from '../InputData/styled'\r\nimport { PrimaryButton, SecondaryButton } from 'src/styled'\r\n\r\nimport RawData from './RawData'\r\nimport ChangedTasksTable from './components/ChangedTasksTable'\r\nimport ChangedResourcesTable from './components/ChangedResourcesTable'\r\nimport ChangedResourcesTasksTable from './components/ChangedResourcesTaskTable '\r\n\r\nexport default function DetailedReport({ optimizer, selectedPreset, selectedResultIndex, handleSelectResultIndex, goPrev }) {\r\n  const [openModal, setOpenModal] = useState(false)\r\n\r\n  return (<>\r\n    <h2><span style={{ textTransform: 'capitalize' }}>{selectedPreset}</span> Detailed Report</h2>\r\n    <OptimizationContainer>\r\n      <TableContent>\r\n        <div className='row'>\r\n          <h3>Changed Tasks (Overview)</h3>\r\n          {/* <div><FileDownloadIcon /> Export</div> */}\r\n        </div>\r\n        <div className='legend' style={{ width: '400px', justifyContent: 'flex-start', marginBottom: '20px' }}>\r\n          <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center', marginRight: '10px' }}>\r\n            <div className='circle critical' /> Critical\r\n          </div>\r\n          <div style={{ display: 'flex', justifyContent: 'flex-start', alignItems: 'center' }}>\r\n            <div className='circle' /> Non-Critical\r\n          </div>\r\n        </div>\r\n        {optimizer?.results[selectedResultIndex] ?\r\n          <ChangedTasksTable ariaLabel='changed-tasks-overview' result={optimizer?.results[selectedResultIndex]} /> : 'Please select a Optimization Preset before generating your report'}\r\n      </TableContent>\r\n\r\n      <h2>Resources Tables</h2>\r\n      <TableContent>\r\n        <h4>Changed Resources</h4>\r\n        {optimizer?.results[selectedResultIndex] ?\r\n          <ChangedResourcesTable ariaLabel='changed-resources' result={optimizer?.results[selectedResultIndex]} /> : 'Please select a Optimization Preset before generating your report'}\r\n      </TableContent>\r\n\r\n      <TableContent>\r\n        <h4>Changed Task-Resources</h4>\r\n        {optimizer?.results[selectedResultIndex] ?\r\n          <ChangedResourcesTasksTable ariaLabel='changed-tasks-resources' result={optimizer?.results[selectedResultIndex]} /> : 'Please select a Optimization Preset before generating your report'}\r\n      </TableContent>\r\n\r\n      {optimizer?.loss_weights ? <RawData results={optimizer?.results} loss={optimizer?.loss_weights} selectedResultIndex={selectedResultIndex} handleChooseResult={(index) => {\r\n        handleSelectResultIndex(index)\r\n      }} /> : 'No data'}\r\n\r\n      <div className='row'>\r\n        <SecondaryButton variant='contained' onClick={goPrev}>\r\n          Back\r\n        </SecondaryButton>\r\n        <PrimaryButton onClick={() => setOpenModal(true)} variant='contained'>\r\n          Export Report\r\n        </PrimaryButton>\r\n      </div>\r\n    </OptimizationContainer>\r\n\r\n    <LoadingModal\r\n      open={openModal}\r\n      onClose={() => setOpenModal(false)}\r\n      aria-labelledby='modal-modal-title'\r\n      aria-describedby='modal-modal-description'\r\n    >\r\n      <Box sx={{\r\n        position: 'absolute',\r\n        top: '50%',\r\n        left: '50%',\r\n        transform: 'translate(-50%, -50%)',\r\n        width: 400,\r\n        p: 3\r\n      }}>\r\n        <div className='title' id='modal-modal-title'>\r\n          Export Optimized File\r\n        </div>\r\n        <div className='row'>\r\n          <PrimaryButton onClick={() => {\r\n            optimizer.reader.merge_data(optimizer.results[selectedResultIndex].inp)\r\n            optimizer.reader.export()\r\n          }} variant='contained'>Original Format</PrimaryButton> &nbsp;\r\n          <PrimaryButton onClick={() => {\r\n            optimizer.reader.export_excel(optimizer.results[selectedResultIndex].inp)\r\n          }} variant='contained'>Excel</PrimaryButton>\r\n        </div>\r\n      </Box>\r\n    </LoadingModal>\r\n  </>\r\n  )\r\n}","import styled from 'styled-components'\r\n\r\nexport const DashboardContainer = styled.div`\r\n  width: 100%;\r\n  box-sizing: border-box;\r\n  .content {\r\n    margin: 20px auto;\r\n    width: 1200px;\r\n    max-width: 100%;\r\n    /* background: #ffffff; */\r\n    /* padding: 1px 20px 20px; */\r\n    border-radius: 6px;\r\n    box-sizing: border-box;\r\n    .legend {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: flex-start;\r\n      font-size: 11px;\r\n      width: 100%;\r\n      margin-top: 20px;\r\n      flex-wrap: wrap;\r\n      .item {\r\n        display: flex; \r\n        justify-content: flex-start;\r\n        align-items: center;\r\n        margin-right: 23px;\r\n        &.resources {\r\n          width: 29%;\r\n        }\r\n      }\r\n      .circle {\r\n        margin-right: 5px;\r\n      }\r\n    }\r\n  }\r\n`","import React, { useState, useEffect, useReducer } from 'react'\r\n\r\nimport Breadcrumb from '../../components/Breadcrumb'\r\nimport Header from '../../components/Header'\r\n\r\nimport InputData from './InputData'\r\nimport { Optimizer } from './InputData/optimizers/Optimizer'\r\nimport BaselineSummary from './BaselineSummary'\r\nimport OptimizedSummary from './OptimizedSummary'\r\nimport DetailedReport from './DetailedReport'\r\n\r\nimport { DashboardContainer } from './styled'\r\n\r\nconst steps = [\r\n  'Input Data',\r\n  'Baseline Summary',\r\n  'Optimized Summary',\r\n  'Optimized Report'\r\n]\r\n\r\nexport default function Dashboard() {\r\n  const [navAt, setNavAt] = useState(0)\r\n  const [project, setProject] = useState(null)\r\n  const [optimizationPresets, setOptimizationPresets] = useState({\r\n    balanced: {\r\n      label: 'Balanced',\r\n      color: '#82B5C7',\r\n      description: 'Best combination of the fastest, minimum and levelled resources'\r\n    },\r\n    shortest_duration: {\r\n      label: 'Fastest',\r\n      color: '#f7dc5b',\r\n      description: 'Fastest way to execute the project'\r\n    },\r\n    least_max_resources: {\r\n      label: 'Minimum Resources',\r\n      color: '#db7930',\r\n      description: 'Least amount of required resources to execute the project the fastest'\r\n    },\r\n    least_std_resources: {\r\n      label: 'Levelled Resources',\r\n      color: '#AABB5D',\r\n      description: 'Best resource distribution to execute the project the fastest'\r\n    }\r\n  })\r\n  const [selectedPreset, setSelectedPreset] = useState('balanced')\r\n  const [selectedResultIndex, setSelectedResultIndex] = useState(-1)\r\n  const [fileName, setFileName] = useState('No file chosen')\r\n  const [constraintsFileName, setConstraintsFileName] = useState('No file chosen')\r\n\r\n  const [_, forceUpdate] = useReducer((x) => x + 1, 0)\r\n\r\n  function optimizePresets(project) {\r\n    if (!project) return\r\n    for (const op in optimizationPresets) {\r\n      if (optimizationPresets[op]?.optimizer)\r\n        optimizationPresets[op].optimizer.stop()\r\n    }\r\n    for (const op in optimizationPresets) {\r\n      optimizationPresets[op].optimizer = new Optimizer(project?.fileReader)\r\n      optimizationPresets[op].optimizer.sim_in = { ...project.optimizer.sim_in }\r\n\r\n      for (const weight in optimizationPresets[op].optimizer.loss_weights)\r\n        optimizationPresets[op].optimizer.loss_weights[weight] = 0\r\n      if (op === 'shortest_duration')\r\n        optimizationPresets[op].optimizer.loss_weights['drtn_day'] = 100\r\n      else if (op === 'least_max_resources')\r\n        optimizationPresets[op].optimizer.loss_weights['rsrc_max'] = 100\r\n      else if (op === 'least_std_resources')\r\n        optimizationPresets[op].optimizer.loss_weights['rsrc_std'] = 100\r\n      else if (op === 'balanced') {\r\n        optimizationPresets[op].optimizer.loss_weights['drtn_day'] = 50\r\n        optimizationPresets[op].optimizer.loss_weights['rsrc_max'] = 50\r\n      }\r\n    }\r\n\r\n    optimizationPresets['balanced'].optimizer.optimize((opt_res1) => {\r\n      optimizationPresets['balanced'].optimizer.optimizing = true\r\n      optimizationPresets['balanced'].optimizer.results = opt_res1\r\n      if (selectedPreset === '')\r\n        setSelectedPreset('balanced')\r\n      forceUpdate()\r\n    }, (opt_res1) => {\r\n      optimizationPresets['balanced'].optimizer.optimizing = false\r\n      optimizationPresets['shortest_duration'].optimizer.optimize((opt_res2) => {\r\n        optimizationPresets['shortest_duration'].optimizer.optimizing = true\r\n        optimizationPresets['shortest_duration'].optimizer.results = opt_res2\r\n        forceUpdate()\r\n      }, (opt_res2) => {\r\n        optimizationPresets['shortest_duration'].optimizer.optimizing = false\r\n        optimizationPresets['least_max_resources'].optimizer.optimize((opt_res3) => {\r\n          optimizationPresets['least_max_resources'].optimizer.optimizing = true\r\n          optimizationPresets['least_max_resources'].optimizer.results = opt_res3\r\n          forceUpdate()\r\n        }, (opt_res3) => {\r\n          optimizationPresets['least_max_resources'].optimizer.optimizing = false\r\n          optimizationPresets['least_std_resources'].optimizer.optimize((opt_res4) => {\r\n            optimizationPresets['least_std_resources'].optimizer.optimizing = true\r\n            optimizationPresets['least_std_resources'].optimizer.results = opt_res4\r\n            forceUpdate()\r\n          }, (opt_res4) => {\r\n            optimizationPresets['least_std_resources'].optimizer.optimizing = false\r\n            // if (optimizationPresets['balanced'].optimizer.results.length + \r\n            //   optimizationPresets['shortest_duration'].optimizer.results.length + \r\n            //   optimizationPresets['least_max_resources'].optimizer.results.length + \r\n            //   optimizationPresets['least_std_resources'].optimizer.results.length === 0)\r\n            //   optimizationPresets['balanced'].optimizer.results = [{...project.optimizer.baseline_result}]\r\n            forceUpdate()\r\n          })\r\n        })\r\n      })\r\n    })\r\n  }\r\n\r\n  let componentToRender = null\r\n\r\n  if (navAt === 0)\r\n    componentToRender = <InputData\r\n      project={project}\r\n      fileName={fileName}\r\n      setFileName={setFileName}\r\n      constraintsFileName={constraintsFileName}\r\n      setConstraintsFileName={setConstraintsFileName}\r\n      updateProject={(p) => {\r\n        setProject(p)\r\n      }}\r\n      goNext={() => {\r\n        optimizePresets(project)\r\n        setNavAt(navAt + 1)\r\n      }} />\r\n  else if (navAt === 1)\r\n    componentToRender = <BaselineSummary\r\n      optimizer={project?.optimizer}\r\n      optimizationPresets={optimizationPresets}\r\n      selectedPreset={selectedPreset}\r\n      selectedResultIndex={selectedResultIndex}\r\n      handleSelectPreset={(preset) => {\r\n        setSelectedPreset(preset)\r\n        if (optimizationPresets[preset].optimizer.results.length - 1 < selectedResultIndex)\r\n          setSelectedResultIndex(optimizationPresets[preset].optimizer.results.length - 1)\r\n      }}\r\n      handleSelectResultIndex={(index) => { setSelectedResultIndex(index) }}\r\n      goPrev={() => { setNavAt(navAt - 1) }}\r\n      goNext={() => {\r\n        setNavAt(navAt + 1)\r\n        if (selectedResultIndex === -1)\r\n          setSelectedResultIndex(optimizationPresets[selectedPreset].optimizer.results.length - 1)\r\n        project.optimizer.loss_weights = { ...optimizationPresets[selectedPreset].optimizer.loss_weights }\r\n        project.optimizer.results = [...optimizationPresets[selectedPreset].optimizer.results]\r\n      }}\r\n    />\r\n  else if (navAt === 2)\r\n    componentToRender = <OptimizedSummary\r\n      optimizer={project?.optimizer}\r\n      optimizationPresets={optimizationPresets}\r\n      selectedPreset={optimizationPresets[selectedPreset].label}\r\n      selectedResultIndex={selectedResultIndex}\r\n      goPrev={() => { setNavAt(navAt - 1) }}\r\n      goNext={() => { setNavAt(navAt + 1) }}\r\n    />\r\n  else if (navAt === 3)\r\n    componentToRender = <DetailedReport\r\n      optimizer={project?.optimizer}\r\n      selectedPreset={optimizationPresets[selectedPreset].label}\r\n      selectedResultIndex={selectedResultIndex}\r\n      handleSelectResultIndex={(index) => { setSelectedResultIndex(index) }}\r\n      goPrev={() => { setNavAt(navAt - 1) }}\r\n      goNext={() => { setNavAt(navAt + 1) }}\r\n    />\r\n\r\n  return (\r\n    <>\r\n      <Header />\r\n      <Breadcrumb navAt={navAt} steps={steps} navigate={\r\n        (step) => {\r\n          if (navAt === 1) {\r\n            if (selectedResultIndex === -1)\r\n              setSelectedResultIndex(optimizationPresets[selectedPreset].optimizer.results.length - 1)\r\n            project.optimizer.loss_weights = { ...optimizationPresets[selectedPreset].optimizer.loss_weights }\r\n            project.optimizer.results = [...optimizationPresets[selectedPreset].optimizer.results]\r\n          }\r\n          setNavAt(step)\r\n        }\r\n      } disabled={project === null || project?.optimizer === undefined || optimizationPresets['balanced']?.optimizer?.optimizing === undefined} />\r\n      <DashboardContainer>\r\n        <div className=\"content\">\r\n          {componentToRender}\r\n        </div>\r\n      </DashboardContainer>\r\n    </>\r\n  )\r\n}","require('dotenv').config()\r\n\r\n// Use this function call in the frontend after importing\r\n// function frontEndFunc() {\r\n//     fetchFunc()\r\n//         .then(response => { return response.json(); })\r\n//         .then((data) => { console.log('Success:', data); })\r\n//\t       .catch((error) => { console.error('Error:', error); });\r\n// }\r\n\r\nexport async function getAllUsers(callback, errorCallback) {\r\n\treturn await fetch(`${process.env.REACT_APP_API_URL}/users/`)\r\n}\r\n\r\n\r\nexport async function login(body, callback, errorCallback) {\r\n\treturn await fetch(`${process.env.REACT_APP_API_URL}/auth/login`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\tbody: JSON.stringify(body)\r\n\t})\r\n}\r\n\r\nexport async function requestResetPassword(body, callback, errorCallback) {\r\n\treturn await fetch(`${process.env.REACT_APP_API_URL}/auth/request-reset-password`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\tbody: JSON.stringify(body)\r\n\t})\r\n}\r\n\r\nexport async function resetPassword(body, callback, errorCallback) {\r\n\treturn await fetch(`${process.env.REACT_APP_API_URL}/auth/reset-password`, {\r\n\t\tmethod: 'POST',\r\n\t\theaders: { 'Content-Type': 'application/json' },\r\n\t\tbody: JSON.stringify(body)\r\n\t})\r\n}","export function validateEmail(email) {\r\n  const re = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\r\n  const result = re.test(String(email).toLowerCase())\r\n  if (result) { return { result: result, message: '' } }\r\n\r\n  return { result: result, message: 'Please enter a valid email address.' }\r\n}\r\n\r\nexport function validatePassword(password) {\r\n  // if (password.length < 8)\r\n  // \treturn { result: false, message: 'Password must be 8 characters or longer.' }\r\n  // Add more conditions here (e.g. uppercase, lowercase, number, special chars, etc...)\r\n\r\n  return { result: true, message: '' }\r\n}","import styled from 'styled-components'\r\n\r\nexport const LoginContainer = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(255, 204, 103, 0.195) 0%,\r\n    rgba(0, 145, 132, 0.3) 100%\r\n  );\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  .MuiBox-root {\r\n    width: 450px;\r\n    h3 {\r\n      margin-top: 0;\r\n    }\r\n    &.form {\r\n      background: #ffffff;\r\n      padding: 30px;\r\n      border-radius: 16px;\r\n      box-sizing: border-box;\r\n      /* display: flex;\r\n      flex-direction: column; */\r\n      .MuiTextField-root {\r\n        width: 100%;\r\n        margin-bottom: 12px;\r\n      }\r\n    }\r\n    img.logo {\r\n      width: 300px;\r\n    }\r\n  }\r\n  .divider {\r\n    position: relative;\r\n    &:after { \r\n      content: '';\r\n      position: absolute;\r\n      height: 1px;\r\n      width: 100%;\r\n      background: #eeeeee;\r\n      left: 0;\r\n      bottom: 0;\r\n    }\r\n  }\r\n  .error {\r\n    color: rgb(0, 190, 174) !important;\r\n    font-weight: 700;\r\n  }\r\n`\r\n","import React, { useState, useRef } from 'react'\r\n\r\nimport Box from '@mui/material/Box'\r\nimport TextField from '@mui/material/TextField'\r\nimport { useSignIn } from 'react-auth-kit'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport { login } from '../../lib/fetch'\r\n\r\nimport { validateEmail } from '../../utils/validator'\r\nimport { LoginContainer } from './styled'\r\n\r\nimport FLlogo from '../../assets/images/logo.png'\r\nimport { PrimaryButton } from 'src/styled'\r\n\r\nexport default function Login() {\r\n  const emailRef = useRef()\r\n  const [emailErrorMessage, setEmailErrorMessage] = useState('')\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n\r\n  const passwordRef = useRef()\r\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState('')\r\n\r\n  const signIn = useSignIn()\r\n  const navigate = useNavigate()\r\n\r\n  async function handleLogin() {\r\n    const validEmail = validateEmail(emailRef.current.value)\r\n    setEmailErrorMessage(validEmail.message)\r\n    if (!validEmail.result) { return }\r\n\r\n    const response = await login({\r\n      email: emailRef.current.value,\r\n      password: passwordRef.current.value,\r\n    })\r\n      .then((response) => {\r\n        return response.json()\r\n      })\r\n      .then((data) => {\r\n        if (data.resetPasswordRequired) {\r\n          // setErrorMessage('Your account has no password, you will be taken to reset password page')\r\n          setErrorMessage('This is your first time logging in, you will be redirected to set up a password.')\r\n          navigate('/#/reset-password?email=' + emailRef.current.value)\r\n          return\r\n        } else if (data.accessToken) {\r\n          signIn({\r\n            token: data.accessToken,\r\n            expiresIn: 24 * 60, // in minutes -> 1 day\r\n            tokenType: 'Bearer',\r\n            authState: { email: emailRef.current.value },\r\n          })\r\n          // alert('Logged in')\r\n          navigate('/')\r\n          return\r\n        } else {\r\n          setErrorMessage(data.message)\r\n          return\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error:', error)\r\n      })\r\n  }\r\n\r\n  function handleForgotPassword() {\r\n    navigate('/reset-password?email=' + emailRef.current.value)\r\n  }\r\n\r\n  return (\r\n    <LoginContainer>\r\n      <Box\r\n        sx={{ display: 'flex', flexDirection: 'column', marginRight: '40px' }}\r\n      >\r\n        <img className='logo' src={FLlogo} alt='Frontline Logo' />\r\n        <h1>Optimization Platform</h1>\r\n        Find the best sequence of activities with\r\n        optimal resource loading to ace your project\r\n      </Box>\r\n      <Box className='form' component='form' noValidate autoComplete='off'>\r\n        <h2>Log In</h2>\r\n        <p className='error'>{errorMessage}</p>\r\n        <TextField\r\n          label='Email'\r\n          variant='outlined'\r\n          inputRef={emailRef}\r\n          error={emailErrorMessage !== ''}\r\n          helperText={emailErrorMessage}\r\n          placeholder='sample@googlemail.com'\r\n        />\r\n        <TextField\r\n          label='Password'\r\n          type='password'\r\n          variant='outlined'\r\n          inputRef={passwordRef}\r\n          error={passwordErrorMessage !== ''}\r\n          helperText={passwordErrorMessage}\r\n          placeholder='******'\r\n        />\r\n        <div className='row'>\r\n          <span style={{ textDecoration: 'underline', cursor: 'pointer' }} onClick={handleForgotPassword}>Forgot password</span>\r\n          <PrimaryButton variant='contained' onClick={handleLogin}>\r\n            Login\r\n          </PrimaryButton>\r\n        </div><br />\r\n        <div className='divider' />\r\n        <h2>New Users</h2>\r\n        Our platform is currently only available to subscribers.\r\n        Please contact <a href='mailto:sales@frontlinec.com' target=\"_blank\" rel=\"noreferrer\">sales@frontlinec.com</a> to request a demo.\r\n      </Box>\r\n    </LoginContainer>\r\n  )\r\n}\r\n","import styled from 'styled-components'\r\n\r\nexport const ResetContainer = styled.div`\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: linear-gradient(\r\n    180deg,\r\n    rgba(255, 204, 103, 0.195) 0%,\r\n    rgba(0, 145, 132, 0.3) 100%\r\n  );\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  .MuiBox-root {\r\n    width: 450px;\r\n    h3 {\r\n      margin-top: 0;\r\n    }\r\n    &.form {\r\n      background: #ffffff;\r\n      padding: 30px;\r\n      border-radius: 16px;\r\n      box-sizing: border-box;\r\n      /* display: flex;\r\n      flex-direction: column; */\r\n      p {\r\n        color: #888888;\r\n        &.error {\r\n          color: rgb(0, 190, 174);\r\n          font-weight: 700;\r\n          margin-bottom: 15px;\r\n        }\r\n      }\r\n      .MuiTextField-root {\r\n        width: 100%;\r\n        margin-bottom: 12px;\r\n      }\r\n    }\r\n    img.logo {\r\n      width: 300px;\r\n    }\r\n  }\r\n`\r\n","import React, { useState } from 'react'\r\nimport { useSearchParams } from 'react-router-dom'\r\n\r\nimport Box from '@mui/material/Box'\r\nimport TextField from '@mui/material/TextField'\r\n\r\nimport { requestResetPassword, resetPassword } from '../../lib/fetch'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nimport FLlogo from '../../assets/images/logo.png'\r\n\r\nimport { validateEmail } from '../../utils/validator'\r\nimport { LoginContainer } from '../Login/styled'\r\n\r\nimport { ResetContainer } from './styled'\r\nimport { PrimaryButton, SecondaryButton } from 'src/styled'\r\n\r\nexport default function ResetPassword() {\r\n  const [searchParams, setSearchParams] = useSearchParams()\r\n  const [email, setEmail] = useState(searchParams.get('email') ? searchParams.get('email') : '')\r\n  const [password, setPassword] = useState('')\r\n  const [resetToken, setResetToken] = useState(searchParams.get('resetToken'))\r\n\r\n  const [errorMessage, setErrorMessage] = useState('')\r\n\r\n  const navigate = useNavigate()\r\n\r\n  async function handleRequestResetPassword() {\r\n    const validEmail = validateEmail(email)\r\n    setErrorMessage(validEmail.message)\r\n    if (!validEmail.result) { return }\r\n\r\n    const response = await requestResetPassword({ email: email })\r\n      .then(response => { return response.json() })\r\n      .then((data) => {\r\n        setErrorMessage('We have sent the password reset instructions to your email. Please note the link expires in 1 hour.')\r\n      })\r\n      .catch((error) => { console.error('Error:', error) })\r\n  }\r\n\r\n  async function handleResetPassword() {\r\n    const response = await resetPassword({ email: email, password: password, token: resetToken })\r\n      .then(response => { return response.json() })\r\n      .then((data) => {\r\n        setErrorMessage('Your password has been successfully reset!')\r\n        navigate('/')\r\n      })\r\n      .catch((error) => { console.error('Error:', error) })\r\n  }\r\n\r\n  function handleBackPage() {\r\n    navigate('/login')\r\n  }\r\n\r\n  if (resetToken)\r\n    return (\r\n      <LoginContainer>\r\n        <Box\r\n          sx={{ display: 'flex', flexDirection: 'column', marginRight: '40px' }}\r\n        >\r\n          <img className='logo' src={FLlogo} alt=\"Frontline Logo\" />\r\n          <h1>Optimization Platform</h1>\r\n          Find the best sequence of activities with\r\n          optimal resource loading to ace your project\r\n        </Box>\r\n        <Box className='form' component='form' noValidate autoComplete='off'>\r\n          <h2>Reset Password</h2>\r\n          {errorMessage}\r\n          <p>Your new password must be different from previous used passwords.</p>\r\n          <TextField label='Email' variant='outlined' value={email} disabled={true} />\r\n          <br />\r\n          <TextField label='Password' type='password' variant='outlined' value={password} onChange={e => setPassword(e.target.value)} />\r\n          <br />\r\n          <div className=\"row\">\r\n            <div />\r\n            <PrimaryButton variant='contained' onClick={handleResetPassword}>\r\n              Reset Password\r\n            </PrimaryButton>\r\n          </div>\r\n        </Box>\r\n      </LoginContainer>\r\n    )\r\n\r\n  return (\r\n    <>\r\n      <ResetContainer>\r\n        <Box\r\n          sx={{ display: 'flex', flexDirection: 'column', marginRight: '40px' }}\r\n          noValidate\r\n          autoComplete='off'\r\n        >\r\n          <img className='logo' src={FLlogo} alt=\"Frontline Logo\" />\r\n          <h1>Optimization Platform</h1>\r\n          Find the best sequence of activities with\r\n          optimal resource loading to ace your project\r\n        </Box>\r\n        <Box className='form' component='form' noValidate autoComplete='off'>\r\n          <h3>Reset Password</h3>\r\n          <p className='error'>{errorMessage}</p>\r\n          <p>Enter the email associated with your account and we'll send an email with instructions to reset your password.</p>\r\n          <TextField label='Email' placeholder=\"example@gmail.com\" variant='outlined' value={email} onChange={e => setEmail(e.target.value)} />\r\n          <div className=\"row\">\r\n            <SecondaryButton variant='contained' onClick={handleBackPage}>\r\n              Back\r\n            </SecondaryButton>\r\n            <PrimaryButton variant='contained' onClick={handleRequestResetPassword}>\r\n              Request\r\n            </PrimaryButton>\r\n          </div>\r\n        </Box>\r\n      </ResetContainer>\r\n    </>\r\n  )\r\n}","import React from 'react'\r\nimport { HashRouter, Route, Routes } from 'react-router-dom'\r\nimport { AuthProvider, RequireAuth } from 'react-auth-kit'\r\n\r\nimport Dashboard from './pages/Dashboard'\r\nimport Login from './pages/Login'\r\nimport ResetPassword from './pages/ResetPassword'\r\n\r\nimport { AppContainer } from './styled'\r\n\r\nexport default function App() {\r\n  return (\r\n    <AuthProvider\r\n      authType={'cookie'}\r\n      authName={'_auth'}\r\n      cookieDomain={window.location.hostname}\r\n      cookieSecure={false}\r\n    >\r\n      <HashRouter>\r\n        <AppContainer>\r\n          <Routes>\r\n            <Route\r\n              path='/'\r\n              element={\r\n                <RequireAuth loginPath='/login'>\r\n                  <Dashboard />\r\n                </RequireAuth>\r\n              }\r\n            />\r\n            <Route path='/login' element={<Login />} />\r\n            <Route path='/reset-password' element={<ResetPassword />} />\r\n          </Routes>\r\n        </AppContainer>\r\n      </HashRouter>\r\n    </AuthProvider>\r\n  )\r\n}\r\n","import { AppRegistry } from 'react-native'\r\nimport App from './App'\r\nimport './main.css'\r\n\r\nAppRegistry.registerComponent('App', () => App)\r\n\r\nAppRegistry.runApplication('App', {\r\n  rootTag: document.getElementById('root')\r\n})\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.458142f4.png\";"],"sourceRoot":""}